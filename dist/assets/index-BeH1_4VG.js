var js=Object.defineProperty,vs=Object.defineProperties;var Ns=Object.getOwnPropertyDescriptors;var es=Object.getOwnPropertySymbols;var ws=Object.prototype.hasOwnProperty,_s=Object.prototype.propertyIsEnumerable;var ss=(s,l,r)=>l in s?js(s,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[l]=r,M=(s,l)=>{for(var r in l||(l={}))ws.call(l,r)&&ss(s,r,l[r]);if(es)for(var r of es(l))_s.call(l,r)&&ss(s,r,l[r]);return s},I=(s,l)=>vs(s,Ns(l));var Ss=(s,l)=>()=>(l||s((l={exports:{}}).exports,l),l.exports);var $=(s,l,r)=>new Promise((m,i)=>{var t=n=>{try{x(r.next(n))}catch(y){i(y)}},h=n=>{try{x(r.throw(n))}catch(y){i(y)}},x=n=>n.done?m(n.value):Promise.resolve(n.value).then(t,h);x((r=r.apply(s,l)).next())});import{r as Cs,a as ks}from"./vendor-S3TIWv48.js";import{r as a,u as ve,a as Ts,N as Fs,L as Z,R as ts,b as Es,c as Ps,B as $s,d as as,e as ae}from"./router-BMV8gEpZ.js";import{c as Ds}from"./supabase-BrnxZSP6.js";import{U as je,L as Ze,X as le,M as As,A as Te,a as Ce,C as xe,S as X,b as rs,F as We,c as qe,Z as qs,d as Us,e as me,f as ls,I as Os,g as Le,h as Se,i as Ue,E as Oe,j as de,k as De,l as Rs,m as Ms,n as Qe,o as Is,p as zs,q as Ve,P as ye,r as ms,s as xs,t as us,T as Ye,u as Xe,v as Ae,w as Ls,x as Bs,y as Ws,z as Re,B as Ys,D as Be,G as Vs,H as is,J as Gs,K as Js,N as Hs,O as Ke,Q as Zs,R as Qs,V as Xs}from"./icons-DAMrqZvc.js";var Rt=Ss(D=>{(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))m(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const h of t.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&m(h)}).observe(document,{childList:!0,subtree:!0});function r(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function m(i){if(i.ep)return;i.ep=!0;const t=r(i);fetch(i.href,t)}})();var Ge={exports:{}},Ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns;function Ks(){if(ns)return Ee;ns=1;var s=Cs(),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t={key:!0,ref:!0,__self:!0,__source:!0};function h(x,n,y){var d,b={},_=null,v=null;y!==void 0&&(_=""+y),n.key!==void 0&&(_=""+n.key),n.ref!==void 0&&(v=n.ref);for(d in n)m.call(n,d)&&!t.hasOwnProperty(d)&&(b[d]=n[d]);if(x&&x.defaultProps)for(d in n=x.defaultProps,n)b[d]===void 0&&(b[d]=n[d]);return{$$typeof:l,type:x,key:_,ref:v,props:b,_owner:i.current}}return Ee.Fragment=r,Ee.jsx=h,Ee.jsxs=h,Ee}var os;function et(){return os||(os=1,Ge.exports=Ks()),Ge.exports}var e=et(),Ie={},cs;function st(){if(cs)return Ie;cs=1;var s=ks();return Ie.createRoot=s.createRoot,Ie.hydrateRoot=s.hydrateRoot,Ie}var tt=st();const at="https://yrnrssdwxdxoiblotpnl.supabase.co",rt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlybnJzc2R3eGR4b2libG90cG5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0MzE1MjEsImV4cCI6MjA3MjAwNzUyMX0.YMo2K3mqhN7jfoZOUCgFQk8Me4h0IdaGl1sI2xnQXD8",F=Ds(at,rt),hs=a.createContext(void 0),ne=()=>{const s=a.useContext(hs);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},lt=({children:s})=>{const[l,r]=a.useState(null),[m,i]=a.useState(null),[t,h]=a.useState(!0);a.useEffect(()=>{console.log("AuthContext: Initializing auth state check"),F.auth.getSession().then(({data:{session:_},error:v})=>{var p,f;v&&v.message.includes("Refresh Token Not Found")?(console.log("AuthContext: Invalid refresh token detected, clearing session"),F.auth.signOut(),i(null),r(null)):(console.log("AuthContext: Initial session check",((p=_==null?void 0:_.user)==null?void 0:p.email)||"No user"),i(_),r((f=_==null?void 0:_.user)!=null?f:null)),h(!1)});const{data:{subscription:b}}=F.auth.onAuthStateChange((_,v)=>{var p,f;console.log("AuthContext: Auth state changed",_,((p=v==null?void 0:v.user)==null?void 0:p.email)||"No user"),i(v),r((f=v==null?void 0:v.user)!=null?f:null),h(!1)});return()=>b.unsubscribe()},[]);const d={user:l,session:m,loading:t,signUp:(b,_)=>$(null,null,function*(){const{error:v}=yield F.auth.signUp({email:b,password:_,options:{emailRedirectTo:void 0}});return{error:v}}),signIn:(b,_)=>$(null,null,function*(){const{error:v}=yield F.auth.signInWithPassword({email:b,password:_});return{error:v}}),signOut:()=>$(null,null,function*(){yield F.auth.signOut()})};return e.jsx(hs.Provider,{value:d,children:s})},it=s=>{if(!s)return!1;const l=new Date(s);return Math.floor((new Date().getTime()-l.getTime())/(1e3*60*60*24))<=30},nt=s=>{if((s==null?void 0:s.status)==="past_due")return s.updated_at},gs=()=>{const{user:s,loading:l}=ne(),[r,m]=a.useState(!0),i=ve(),t=Ts();return console.log("Route guard running - User:",s==null?void 0:s.email,"Loading:",l,"Path:",t.pathname),a.useEffect(()=>{if(console.log("Route guard useEffect triggered"),l){m(!0);return}const h=()=>$(null,null,function*(){console.log("Starting subscription status check");const n=["/login","/signup","/forgot-password","/reset-password","/pricing","/","/demo"].includes(t.pathname),y=t.pathname.startsWith("/submit/"),d=t.pathname==="/";if(!s){if(console.log("No user found, current path:",t.pathname,"Is public page:",n),!n&&!d&&!y){console.log("Redirecting to signup because not on public page"),i("/signup");return}m(!1);return}console.log("User is authenticated:",s.email);try{console.log("Checking for customer record...");const{data:b}=yield F.from("stripe_customers").select("customer_id").eq("user_id",s.id).maybeSingle();if(console.log("Customer data:",b),!b){if(console.log("No customer record found, user needs to subscribe"),t.pathname!=="/get-started"&&!n&&!d&&!y){i("/get-started");return}m(!1);return}console.log("Found customer record, checking subscription...");const{data:_,error:v}=yield F.from("stripe_subscriptions").select("*").eq("customer_id",b.customer_id).maybeSingle();let p;switch(v||!_?(console.log("No subscription found for customer:",v),p={status:"not_started"}):(console.log("Found subscription:",{id:_.subscription_id,status:_.status,priceId:_.price_id}),p={status:_.status,payment_issue_since:nt(_)}),console.log("Current subscription status:",p.status),p.status){case"trialing":case"active":console.log("User has active/trialing subscription, allowing dashboard access"),(t.pathname==="/get-started"||d)&&!y&&i("/dashboard"),m(!1);break;case"past_due":it(p.payment_issue_since)?((t.pathname==="/get-started"||d)&&!y&&i("/dashboard"),m(!1)):(t.pathname!=="/get-started"&&!n&&!d&&!y&&i("/get-started"),m(!1));break;case"canceled":case"not_started":default:console.log("No active subscription, staying on get-started"),t.pathname!=="/get-started"&&!n&&!d&&!y&&i("/get-started"),m(!1);break}}catch(b){console.error("Error fetching subscription status:",b),t.pathname!=="/get-started"&&!n&&i("/get-started"),m(!1)}});console.log("Real auth mode - checking subscription"),h()},[s,l,t.pathname,i]),{user:s,loading:l||r}},_e=({children:s})=>{const{user:l,loading:r}=gs();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):l?e.jsx(e.Fragment,{children:s}):e.jsx(Fs,{to:"/login",replace:!0})},oe=({className:s="h-8 w-8"})=>e.jsxs("svg",{className:s,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"url(#gradient1)",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"M10 12h12c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2h-8l-4 3v-3c-1.1 0-2-.9-2-2v-6c0-1.1.9-2 2-2z",fill:"white",stroke:"currentColor",strokeWidth:"0.5"}),e.jsx("path",{d:"M13 16c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1zm4 0c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1z",fill:"currentColor"}),e.jsx("path",{d:"M20 8l1 2h2l-1.5 1.5L22 14l-2-1-2 1 .5-2.5L17 10h2l1-2z",fill:"#a855f7"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#01b79e"}),e.jsx("stop",{offset:"100%",stopColor:"#01004d"})]})})]}),ot=()=>{const{user:s,signOut:l}=ne(),r=ve(),[m,i]=a.useState(!1),t=()=>$(null,null,function*(){yield l(),r("/")}),h=()=>{r("/signup"),window.scrollTo(0,0),i(!1)};return e.jsx("nav",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(Z,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-primary-950"}),e.jsx("span",{className:"text-xl font-bold text-primary-950",children:"TestiFlow"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:s?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-700 hover:text-primary-950 transition-colors",children:[e.jsx(je,{className:"h-5 w-5"}),e.jsx("span",{children:"Dashboard"})]}),e.jsx(Z,{to:"/forms",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Forms"}),e.jsx(Z,{to:"/testimonials",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Testimonials"}),e.jsx(Z,{to:"/branding",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Branding"}),e.jsx(Z,{to:"/tags",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Tags"}),e.jsx(Z,{to:"/settings",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Settings"}),e.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-700 hover:text-red-600 transition-colors",children:[e.jsx(Ze,{className:"h-5 w-5"}),e.jsx("span",{children:"Sign Out"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{to:"/login",className:"text-gray-700 hover:text-primary-950 transition-colors",children:"Login"}),e.jsx("button",{onClick:h,className:"bg-primary-950 text-white hover:bg-primary-900 px-6 py-2 rounded-md font-semibold transition-colors",children:"Try Free"})]})}),e.jsxs("div",{className:"md:hidden flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>i(!m),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:m?e.jsx(le,{className:"h-6 w-6"}):e.jsx(As,{className:"h-6 w-6"})}),!s&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:h,className:"bg-primary-950 text-white hover:bg-primary-900 px-4 py-2 rounded-md text-sm font-semibold transition-colors",style:{minHeight:"44px"},children:"Try Free"})})]})]}),m&&e.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:s?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{to:"/dashboard",className:"flex items-center space-x-2 text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:[e.jsx(je,{className:"h-5 w-5"}),e.jsx("span",{children:"Dashboard"})]}),e.jsx(Z,{to:"/forms",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Forms"}),e.jsx(Z,{to:"/testimonials",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Testimonials"}),e.jsx(Z,{to:"/branding",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Branding"}),e.jsx(Z,{to:"/tags",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Tags"}),e.jsx(Z,{to:"/settings",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Settings"}),e.jsxs("button",{onClick:()=>{t(),i(!1)},className:"flex items-center space-x-2 text-gray-700 hover:text-red-600 hover:bg-gray-50 px-3 py-3 rounded-md text-base font-medium transition-colors w-full text-left",children:[e.jsx(Ze,{className:"h-5 w-5"}),e.jsx("span",{children:"Sign Out"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{to:"/login",className:"block text-gray-700 hover:text-primary-950 hover:bg-gray-50 px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>i(!1),children:"Login"}),e.jsx("button",{onClick:h,className:"block w-full text-left bg-primary-950 text-white hover:bg-primary-900 px-3 py-2 rounded-md text-base font-medium transition-colors mt-2",children:"Try Free"})]})})})]})})},ct=()=>{const s=ve(),l=()=>{s("/signup"),window.scrollTo(0,0)};return e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary-50 via-white to-secondary-50 pt-4 pb-12 sm:pt-8 sm:pb-16 lg:pb-0",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"relative z-10 pb-6 bg-transparent sm:pb-12 md:pb-16 lg:max-w-2xl lg:w-full lg:pb-20 xl:pb-24",children:e.jsx("main",{className:"mt-4 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-12 lg:px-8 xl:mt-16",children:e.jsxs("div",{className:"sm:text-center lg:text-left",children:[e.jsxs("h1",{className:"text-3xl tracking-tight font-bold text-gray-900 sm:text-4xl md:text-5xl lg:text-6xl",children:[e.jsx("span",{className:"block xl:inline",children:"Turn Customer"})," ",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-secondary-500 xl:inline",children:"Feedback into"})," ",e.jsx("span",{className:"block xl:inline",children:"Marketing Gold"})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-500 sm:mt-5 sm:text-base md:text-lg lg:text-xl sm:max-w-xl sm:mx-auto md:mt-5 lg:mx-0",children:"Collect, manage, and showcase customer testimonials with beautiful forms, automated workflows, and powerful export tools. Build trust and drive conversions with authentic customer stories."}),e.jsx("div",{className:"mt-6 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:e.jsx("div",{className:"rounded-md shadow",children:e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-primary-950 hover:bg-primary-900 sm:px-8 sm:text-base md:py-4 md:text-lg md:px-10 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:["Start Free Trial",e.jsx(Te,{className:"ml-2 h-5 w-5"})]})})})]})})})}),e.jsx("div",{className:"mt-8 lg:mt-0 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 lg:pt-20 xl:pt-24",children:e.jsx("div",{className:"h-64 w-full sm:h-80 md:h-96 lg:h-full flex items-center justify-center py-4 sm:py-8 lg:py-12",children:e.jsx("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mx-auto px-4 sm:px-4 lg:px-2",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-xl border border-gray-200 overflow-hidden transform hover:scale-105 transition-all duration-500 hover:shadow-2xl w-full",children:[e.jsxs("div",{className:"bg-gray-100 px-2 sm:px-3 py-1 sm:py-2 flex items-center space-x-2 border-b border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-400 rounded-full"})]}),e.jsxs("div",{className:"flex-1 bg-white rounded-md px-1.5 py-0.5 text-xs text-gray-500 font-mono",children:[e.jsx("span",{className:"hidden sm:inline",children:"testiflow.com/dashboard"}),e.jsx("span",{className:"sm:hidden",children:"dashboard"})]})]}),e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 px-2 sm:px-4 py-1 sm:py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(oe,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-950"}),e.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary-950",children:"TestiFlow"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 text-xs",children:[e.jsx("span",{className:"text-primary-950 font-medium",children:"Dashboard"}),e.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"Forms"}),e.jsx("span",{className:"text-gray-500 hidden md:inline",children:"Testimonials"})]})]})}),e.jsxs("div",{className:"p-2 sm:p-3 md:p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-2 md:gap-3 mb-2 sm:mb-3 md:mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-1 sm:p-2 md:p-3 rounded border sm:rounded-lg border-blue-100 animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5 sm:mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700 hidden sm:block",children:"Total"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 sm:hidden",children:"T"}),e.jsx(Ce,{className:"h-2 w-2 sm:h-3 sm:w-3 text-primary-950"})]}),e.jsx("div",{className:"text-xs sm:text-sm md:text-xl font-bold text-primary-950 animate-count-up",children:"47"}),e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:"testimonials"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-secondary-50 to-secondary-100 p-1 sm:p-2 md:p-3 rounded border sm:rounded-lg border-secondary-200 animate-slide-up",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5 sm:mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700 hidden sm:block",children:"Approved"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 sm:hidden",children:"A"}),e.jsx(xe,{className:"h-2 w-2 sm:h-3 sm:w-3 text-secondary-500"})]}),e.jsx("div",{className:"text-xs sm:text-sm md:text-xl font-bold text-secondary-500 animate-count-up",children:"42"}),e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:"ready to use"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-accent-50 to-accent-100 p-1 sm:p-2 md:p-3 rounded border sm:rounded-lg border-accent-200 animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5 sm:mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700 hidden sm:block",children:"This Month"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 sm:hidden",children:"M"}),e.jsx(X,{className:"h-2 w-2 sm:h-3 sm:w-3 text-accent-600"})]}),e.jsx("div",{className:"text-xs sm:text-sm md:text-xl font-bold text-accent-600 animate-count-up",children:"12"}),e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:"new reviews"})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Recent Testimonials"}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-1.5 sm:p-2 md:p-3 hover:shadow-md transition-all duration-200 animate-slide-up",style:{animationDelay:"0.3s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 md:h-3 md:w-3 text-primary-950"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs",children:"Mariah W."}),e.jsx("div",{className:"text-xs text-gray-500 hidden sm:block",children:"Technology"})]})]}),e.jsx("span",{className:"px-1 py-0.5 bg-secondary-100 text-secondary-800 rounded-full text-xs font-medium",children:"approved"})]}),e.jsx("div",{className:"flex items-center space-x-0.5 mb-1",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"},r))}),e.jsx("p",{className:"text-gray-700 text-xs leading-tight",children:'"TestiFlow has streamlined our client feedback process..."'})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-1.5 sm:p-2 md:p-3 hover:shadow-md transition-all duration-200 animate-slide-up",style:{animationDelay:"0.4s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 md:h-3 md:w-3 text-primary-950"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-xs",children:"Nathan R."}),e.jsx("div",{className:"text-xs text-gray-500 hidden sm:block",children:"IT & Legal"})]})]}),e.jsx("span",{className:"px-1 py-0.5 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"pending"})]}),e.jsx("div",{className:"flex items-center space-x-0.5 mb-1",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"},r))}),e.jsx("p",{className:"text-gray-700 text-xs leading-tight",children:'"The custom branding and export features are game-changers..."'})]})]})]})]})]})]})})})})]}),e.jsx("div",{className:"py-12 sm:py-16 bg-white",id:"demo",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h2",{className:"text-base text-primary-950 font-semibold tracking-wide uppercase",children:"How It Works"}),e.jsx("p",{className:"mt-2 text-2xl leading-8 font-bold tracking-tight text-gray-900 sm:text-3xl md:text-4xl",children:"See TestiFlow in Action"}),e.jsx("p",{className:"mt-4 max-w-2xl text-base sm:text-lg md:text-xl text-gray-500 mx-auto",children:"From creation to showcase - watch how easy it is to manage testimonials"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"bg-primary-950 text-white p-2 sm:p-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(oe,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Form Builder"})]})}),e.jsxs("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Form Title"}),e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-secondary-500 rounded-full"})]}),e.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-200 rounded w-full"}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-100 rounded border border-blue-300"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Custom Field"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-100 rounded border border-green-300"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Rating Field"})]})]}),e.jsx("button",{className:"w-full bg-primary-950 text-white py-1 rounded text-xs font-medium",children:"Create Form"})]})]})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"1. Create Forms"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Build custom testimonial collection forms with your branding, custom fields, and media upload options."})]}),e.jsxs("div",{className:"text-center group sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"bg-gradient-to-br from-secondary-50 to-accent-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 animation-delay-150",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"bg-secondary-500 text-white p-2 sm:p-3 text-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Customer Experience"})}),e.jsxs("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsx("div",{className:"flex justify-center space-x-0.5 sm:space-x-1",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-yellow-400 fill-current"},r))}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-200 rounded w-full"})]}),e.jsx("div",{className:"h-6 sm:h-8 bg-gray-100 rounded border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:"📸 Upload"})}),e.jsx("button",{className:"w-full bg-secondary-500 text-white py-1 rounded text-xs font-medium",children:"Submit"})]})]})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"2. Collect Feedback"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Customers fill out your branded forms with ratings, testimonials, and optional media uploads."})]}),e.jsxs("div",{className:"text-center group sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"bg-gradient-to-br from-accent-50 to-primary-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 animation-delay-300",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"bg-accent-600 text-white p-2 sm:p-3 text-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Export Dashboard"})}),e.jsxs("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"bg-green-100 text-green-800 p-1 rounded text-center",children:[e.jsx(We,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mx-auto mb-0.5 sm:mb-1"}),e.jsx("span",{className:"text-xs",children:"CSV"})]}),e.jsxs("div",{className:"bg-blue-100 text-blue-800 p-1 rounded text-center",children:[e.jsx(qe,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mx-auto mb-0.5 sm:mb-1"}),e.jsx("span",{className:"text-xs",children:"Widget"})]}),e.jsxs("div",{className:"bg-purple-100 text-purple-800 p-1 rounded text-center",children:[e.jsx(Ce,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 mx-auto mb-0.5 sm:mb-1"}),e.jsx("span",{className:"text-xs",children:"Social"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-0.5 sm:space-x-1 mb-1",children:[e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"}),e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"}),e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"}),e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"}),e.jsx(X,{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 text-yellow-400 fill-current"})]}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-full mb-0.5 sm:mb-1"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-2/3"})]}),e.jsx("button",{className:"w-full bg-accent-600 text-white py-1 rounded text-xs font-medium",children:"Export"})]})]})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"3. Export & Use"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Export testimonials as CSV, generate website widgets, or create social media posts ready for marketing."})]})]})]})}),e.jsx("div",{className:"py-12 sm:py-16 bg-white",id:"features",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"lg:text-center",children:[e.jsx("h2",{className:"text-base text-primary-950 font-semibold tracking-wide uppercase",children:"Features"}),e.jsx("p",{className:"mt-2 text-2xl leading-8 font-bold tracking-tight text-gray-900 sm:text-3xl md:text-4xl",children:"Everything you need to manage testimonials"}),e.jsx("p",{className:"mt-4 max-w-2xl text-base sm:text-lg md:text-xl text-gray-500 lg:mx-auto",children:"From collection to showcase, TestiFlow handles every step of your testimonial workflow."})]}),e.jsx("div",{className:"mt-8 sm:mt-10",children:e.jsxs("div",{className:"space-y-8 sm:space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-6 lg:gap-x-8 md:gap-y-8 lg:gap-y-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-md bg-primary-950 text-white",children:e.jsx(Ce,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsx("p",{className:"ml-14 sm:ml-16 text-base sm:text-lg leading-6 font-medium text-gray-900",children:"Smart Collection Forms"}),e.jsx("p",{className:"mt-2 ml-14 sm:ml-16 text-sm sm:text-base text-gray-500",children:"Create beautiful, branded forms that make it easy for customers to share their experiences. Customize fields, colors, and messaging."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-md bg-secondary-500 text-white",children:e.jsx(xe,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsx("p",{className:"ml-14 sm:ml-16 text-base sm:text-lg leading-6 font-medium text-gray-900",children:"Approval Workflow"}),e.jsx("p",{className:"mt-2 ml-14 sm:ml-16 text-sm sm:text-base text-gray-500",children:"Review testimonials before they go live. Approve, reject, or request changes with a simple click."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-md bg-accent-500 text-white",children:e.jsx(qs,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsx("p",{className:"ml-14 sm:ml-16 text-base sm:text-lg leading-6 font-medium text-gray-900",children:"Powerful Exports"}),e.jsx("p",{className:"mt-2 ml-14 sm:ml-16 text-sm sm:text-base text-gray-500",children:"Export testimonials as CSV, JSON, or generate ready-to-use website widgets for your marketing."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-md bg-primary-600 text-white",children:e.jsx(Us,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsx("p",{className:"ml-14 sm:ml-16 text-base sm:text-lg leading-6 font-medium text-gray-900",children:"Rich Media Support"}),e.jsx("p",{className:"mt-2 ml-14 sm:ml-16 text-sm sm:text-base text-gray-500",children:"Collect not just text testimonials, but also images and videos for more engaging customer stories."})]})]})})]})}),e.jsx("div",{className:"bg-gray-50 py-12 sm:py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"Trusted by Growing Businesses"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"},r))})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 italic leading-relaxed",children:'"TestiFlow has streamlined our client feedback process incredibly. The professional forms and approval workflow have elevated our service quality."'}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"- Mariah W., Technology Solutions"})]}),e.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"},r))})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 italic leading-relaxed",children:'"The custom branding and export features are game-changers. We can now showcase client testimonials professionally across all our platforms."'}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"- Nathan R., IT & Legal Services"})]}),e.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-current"},r))})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4 italic leading-relaxed",children:'"The video testimonial feature has been incredible for our insurance business. Clients love sharing their stories, and it builds so much trust."'}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"- Amber I., Insurance"})]})]})]})})}),e.jsx("div",{className:"bg-white py-12 sm:py-16",id:"pricing",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 mb-8 sm:mb-12 max-w-2xl mx-auto",children:"Choose the plan that fits your testimonial management needs"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-50 px-4 sm:px-6 py-6 sm:py-8 text-center border-b border-gray-200",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary-950",children:"Standard"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary-950",children:"$29"}),e.jsx("span",{className:"text-lg sm:text-xl text-gray-500 ml-1",children:"/month"})]}),e.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Perfect for small businesses getting started"})]}),e.jsx("div",{className:"px-4 sm:px-6 py-6 sm:py-8",children:e.jsx("ul",{className:"space-y-3 sm:space-y-4",children:["Up to 25 testimonials","1 collection form","Basic approval workflow","CSV export","Email notifications"].map((r,m)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary-500 mr-2 sm:mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:r})]},m))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-secondary-500",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-950 to-secondary-500 px-4 sm:px-6 py-6 sm:py-8 text-center",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Premium"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:"$49"}),e.jsx("span",{className:"text-lg sm:text-xl text-white/80 ml-1",children:"/month"})]}),e.jsx("p",{className:"mt-2 text-sm sm:text-base text-white/90",children:"Complete solution for growing businesses"})]}),e.jsx("div",{className:"px-4 sm:px-6 py-6 sm:py-8",children:e.jsx("ul",{className:"space-y-3 sm:space-y-4",children:["Unlimited testimonials & forms","Custom fields & branding","Image + video testimonials","Website widget generator","Advanced exports (JSON, social media posts)","Tag organization"].map((r,m)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary-500 mr-2 sm:mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:r})]},m))})})]})]}),e.jsx("div",{className:"text-center mt-8 sm:mt-12",children:e.jsx("button",{onClick:l,className:"bg-primary-950 text-white px-6 py-3 sm:px-8 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-primary-900 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Start Your Free Trial"})}),e.jsx("div",{className:"text-center mt-4 sm:mt-8",children:e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"All plans include a 7-day free trial."})})]})}),e.jsx("div",{className:"bg-white py-12 sm:py-16",id:"faq",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600",children:"Everything you need to know about TestiFlow"})]}),e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"What's the difference between Standard and Premium plans?"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:"Standard is perfect for small businesses with up to 25 testimonials and 1 form. Premium offers unlimited testimonials and forms, plus advanced features like custom branding, video testimonials, and website widgets."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Is there a free trial?"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:"Yes! All plans include a 7-day free trial with full access to all features. No credit card required to start."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Can I upgrade or downgrade my plan?"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:"Absolutely! You can change your plan anytime from your account settings. Changes take effect immediately with prorated billing."})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-primary-950 to-secondary-500 py-12 sm:py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Feedback?"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-6 sm:mb-8",children:"Join hundreds of businesses using TestiFlow to collect and showcase customer testimonials."}),e.jsx("button",{onClick:l,className:"bg-white text-primary-950 px-6 py-3 sm:px-8 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Start Your Free Trial Today"}),e.jsx("p",{className:"text-white/80 text-xs sm:text-sm mt-3 sm:mt-4",children:"7-day free trial • Cancel anytime"})]})})]})},se=({type:s,title:l,message:r,onClose:m})=>{const i=()=>{switch(s){case"success":return e.jsx(xe,{className:"h-5 w-5 text-green-400"});case"error":return e.jsx(ls,{className:"h-5 w-5 text-red-400"});case"warning":return e.jsx(Le,{className:"h-5 w-5 text-yellow-400"});case"info":return e.jsx(Os,{className:"h-5 w-5 text-blue-400"})}},t=()=>{switch(s){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}};return e.jsx("div",{className:`rounded-md border p-4 ${t()}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:i()}),e.jsxs("div",{className:"ml-3 flex-1",children:[l&&e.jsx("h3",{className:"text-sm font-medium",children:l}),e.jsx("div",{className:`text-sm ${l?"mt-2":""}`,children:e.jsx("p",{children:r})})]}),m&&e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{type:"button",onClick:m,className:"inline-flex rounded-md p-1.5 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx(ls,{className:"h-5 w-5"})]})})})]})})},dt=()=>{const[s,l]=a.useState(""),[r,m]=a.useState(""),[i,t]=a.useState(!1),[h,x]=a.useState(!1),[n,y]=a.useState(""),{signIn:d}=ne(),b=ve(),_=v=>$(null,null,function*(){v.preventDefault(),x(!0),y("");const{error:p}=yield d(s,r);p?y(p.message):b("/dashboard"),x(!1)});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(Z,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:n,onClose:()=>y("")})}),e.jsxs("form",{className:"space-y-6",onSubmit:_,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:v=>l(v.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:v=>m(v.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!i),children:i?e.jsx(Oe,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):e.jsx(de,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"text-sm",children:e.jsx(Z,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]})]})})]})},mt=()=>{const[s,l]=a.useState(""),[r,m]=a.useState(""),[i,t]=a.useState(""),[h,x]=a.useState(!1),[n,y]=a.useState(!1),[d,b]=a.useState(!1),[_,v]=a.useState(""),{signUp:p}=ne(),f=ve(),N=(k=>{const P={length:k.length>=8,uppercase:/[A-Z]/.test(k),lowercase:/[a-z]/.test(k),number:/\d/.test(k),special:/[!@#$%^&*(),.?":{}|<>]/.test(k)},z=Object.values(P).filter(Boolean).length;return{requirements:P,score:z}})(r),T=N.score>=4,S=k=>$(null,null,function*(){if(k.preventDefault(),b(!0),v(""),r!==i){v("Passwords do not match"),b(!1);return}if(!T){v("Please create a stronger password that meets the requirements below"),b(!1);return}const{error:P}=yield p(s,r);P?v(P.message):f("/get-started"),b(!1)});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(Z,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your existing account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[_&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:_,onClose:()=>v("")})}),e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:k=>l(k.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:h?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:k=>m(k.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!h),children:h?e.jsx(Oe,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):e.jsx(de,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),r&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Password strength:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.length?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.length?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.uppercase?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.uppercase?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.lowercase?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.lowercase?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.number?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.number?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.special?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.special?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",autoComplete:"new-password",required:!0,value:i,onChange:k=>t(k.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!n),children:n?e.jsx(Oe,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):e.jsx(de,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})})]})]})})]})},xt=()=>{const{user:s}=ne(),[l,r]=a.useState(null),[m,i]=a.useState({total:0,approved:0,thisMonth:0}),[,t]=a.useState(!0),[h,x]=a.useState(null),[n,y]=a.useState([]),[d,b]=a.useState(null);a.useEffect(()=>{$(null,null,function*(){if(s)try{x(null);const{data:N}=yield F.from("stripe_customers").select("*").eq("user_id",s.id).maybeSingle();if(N){const{data:S}=yield F.from("stripe_subscriptions").select("*").eq("customer_id",N.customer_id).maybeSingle();r(S)}const{data:T}=yield F.from("testimonial_forms").select("id").eq("user_id",s.id);if(T&&T.length>0){const S=T.map(o=>o.id),{count:k}=yield F.from("testimonials").select("*",{count:"exact",head:!0}).in("form_id",S),{count:P}=yield F.from("testimonials").select("*",{count:"exact",head:!0}).in("form_id",S).eq("status","approved"),z=new Date;z.setDate(1),z.setHours(0,0,0,0);const q=new Date;q.setDate(q.getDate()-30);const{count:u}=yield F.from("testimonials").select("*",{count:"exact",head:!0}).in("form_id",S).gte("submitted_at",q.toISOString());i({total:k||0,approved:P||0,thisMonth:u||0});const{data:E}=yield F.from("testimonials").select(`
              id,
              name,
              company,
              message,
              rating,
              status,
              submitted_at,
              form_id,
              testimonial_forms!inner(title)
            `).in("form_id",S).order("submitted_at",{ascending:!1}).limit(5);if(E){const o=E.map(C=>({id:C.id,name:C.name,company:C.company,message:C.message,rating:C.rating,status:C.status,submitted_at:C.submitted_at,form_title:C.testimonial_forms.title}));y(o)}}t(!1)}catch(N){console.error("Error fetching subscription data:",N),x("Failed to load dashboard data"),t(!1)}})},[s]);const _=()=>{if(!(l!=null&&l.current_period_end))return 0;const g=new Date(l.current_period_end*1e3),N=new Date,T=g.getTime()-N.getTime(),S=Math.ceil(T/(1e3*60*60*24));return Math.max(0,S)},v=()=>l!=null&&l.current_period_end?new Date(l.current_period_end*1e3).toLocaleDateString():"",p=(g,N)=>$(null,null,function*(){b(g);try{const{error:T}=yield F.from("testimonials").update({status:N,reviewed_at:new Date().toISOString()}).eq("id",g);if(T)throw T;y(S=>S.map(k=>k.id===g?I(M({},k),{status:N}):k)),N==="approved"&&i(S=>I(M({},S),{approved:S.approved+1}))}catch(T){console.error("Error updating testimonial status:",T),x("Failed to update testimonial status")}finally{b(null)}}),f=g=>{const N=new Date(g),S=Math.floor((new Date().getTime()-N.getTime())/(1e3*60*60));if(S<1)return"Just now";if(S<24)return`${S}h ago`;const k=Math.floor(S/24);return k<7?`${k}d ago`:N.toLocaleDateString()};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[(l==null?void 0:l.status)==="trialing"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-blue-800 font-medium",children:["Trial ends in ",_()," day",_()!==1?"s":""]}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["Your card will be charged on ",v()]})]})]}),e.jsx(Z,{to:"/settings",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Manage Subscription"})]})}),(l==null?void 0:l.status)==="past_due"&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Payment Issue"}),e.jsx("p",{className:"text-red-600 text-sm",children:"Please update your payment method to continue using TestiFlow"})]})]}),e.jsx(Z,{to:"/settings",className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Update Payment"})]})}),h&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-800",children:h})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back!"}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your testimonials"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Total"}),e.jsx(Ce,{className:"h-5 w-5 text-primary-950"})]}),e.jsx("div",{className:"text-3xl font-bold text-primary-950",children:m.total}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"testimonials collected"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-secondary-50 to-secondary-100 p-6 rounded-xl border border-secondary-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Approved"}),e.jsx(xe,{className:"h-5 w-5 text-secondary-500"})]}),e.jsx("div",{className:"text-3xl font-bold text-secondary-500",children:m.approved}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"ready to use"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-accent-50 to-accent-100 p-6 rounded-xl border border-accent-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"This Month"}),e.jsx(De,{className:"h-5 w-5 text-accent-600"})]}),e.jsx("div",{className:"text-3xl font-bold text-accent-600",children:m.thisMonth}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"last 30 days"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),n.length>0&&e.jsx(Z,{to:"/testimonials",onClick:()=>window.scrollTo(0,0),className:"text-primary-950 hover:text-primary-800 text-sm font-medium",children:"View All →"})]}),m.total===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ce,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Create your first collection form"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Start gathering customer testimonials by creating a customized form that you can share with your customers."}),e.jsx("button",{onClick:()=>window.location.href="/forms",className:"bg-primary-950 text-white px-6 py-3 rounded-lg hover:bg-primary-900 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Create Your First Form"})]}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Recent testimonial submissions will appear here"})]}):e.jsxs("div",{className:"space-y-4",children:[n.map(g=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"h-5 w-5 text-primary-950"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:g.name}),e.jsx("div",{className:"text-sm text-gray-500",children:g.company||"No company"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.status==="approved"?"bg-secondary-100 text-secondary-800":g.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:g.status}),e.jsx("span",{className:"text-xs text-gray-500",children:f(g.submitted_at)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"flex",children:[...Array(g.rating)].map((N,T)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},T))}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",g.rating,"/5)"]})]}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed mb-3 line-clamp-2",children:['"',g.message,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["From: ",g.form_title]}),e.jsxs("div",{className:"flex space-x-2",children:[g.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(g.id,"approved"),disabled:d===g.id,className:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200 px-3 py-1 rounded-md text-xs font-medium transition-colors disabled:opacity-50",children:d===g.id?"...":"Approve"}),e.jsx("button",{onClick:()=>p(g.id,"rejected"),disabled:d===g.id,className:"bg-red-100 text-red-800 hover:bg-red-200 px-3 py-1 rounded-md text-xs font-medium transition-colors disabled:opacity-50",children:d===g.id?"...":"Reject"})]}),e.jsxs(Z,{to:"/testimonials",className:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-3 py-1 rounded-md text-xs font-medium transition-colors flex items-center space-x-1",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:"View"})]})]})]})]},g.id)),n.length>=5&&e.jsx("div",{className:"text-center pt-4",children:e.jsx(Z,{to:"/testimonials",onClick:()=>window.scrollTo(0,0),className:"text-primary-950 hover:text-primary-800 text-sm font-medium",children:"View all testimonials →"})})]})]})]})})})})},ut=()=>{const s=ve(),[l]=ts.useState(""),[r]=ts.useState(!1),m=()=>{s("/signup"),window.scrollTo(0,0)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-teal/10 px-4 py-2 rounded-full",children:[e.jsx(oe,{className:"h-6 w-6 text-teal"}),e.jsx("span",{className:"text-teal font-semibold",children:"TestiFlow Pricing"})]})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto",children:"Choose the plan that fits your testimonial management needs"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-8 text-center border-b border-gray-200",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-950",children:"Standard"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-5xl font-bold text-primary-950",children:"$29"}),e.jsx("span",{className:"text-xl text-gray-500 ml-1",children:"/month"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Perfect for small businesses getting started"})]}),e.jsx("div",{className:"px-6 py-8",children:e.jsx("ul",{className:"space-y-4 mb-8",children:["Up to 25 testimonials","1 collection form - Simple form to request testimonials","Basic approval workflow - Review before testimonials go live","CSV export","Email notifications - Get notified of new submissions"].map((i,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-5 w-5 text-secondary-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:i})]},t))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-secondary-500",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-950 to-secondary-500 px-6 py-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Premium"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-5xl font-bold text-white",children:"$49"}),e.jsx("span",{className:"text-xl text-white/80 ml-1",children:"/month"})]}),e.jsx("p",{className:"mt-2 text-white/90",children:"Complete solution for growing businesses"})]}),e.jsx("div",{className:"px-6 py-8",children:e.jsx("ul",{className:"space-y-4 mb-8",children:["Unlimited testimonials & forms","Custom fields & branding","Image + video testimonials - Rich media collection","Website widget generator","Advanced exports (JSON, social media posts)","Tag organization"].map((i,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-5 w-5 text-secondary-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:i})]},t))})})]})]}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 max-w-md mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-950 mb-4",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Choose your plan after signing up. Start with a 7-day free trial."}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800 text-sm",children:l})}),e.jsxs("button",{onClick:m,disabled:r,className:"w-full bg-primary-950 text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-900 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{children:"Start Free Trial"}),e.jsx(Te,{className:"h-5 w-5"})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"7-day free trial"})]})})]})})},ht=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(xe,{className:"h-16 w-16 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Thank you for subscribing to TestiFlow. Your account has been activated and you now have access to all Pro features."}),e.jsxs(Z,{to:"/dashboard",className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Go to Dashboard"}),e.jsx(Te,{className:"h-5 w-5"})]})]})})}),ke=[{id:"standard",priceId:"price_1Rznb5Dn6VTzl81bjqFfCagv",name:"Standard Plan",description:"Perfect for small businesses getting started.",mode:"subscription"},{id:"premium",priceId:"price_1Rznb5Dn6VTzl81b8Hx5UQt6",name:"Premium Plan",description:"Complete solution for growing businesses.",mode:"subscription"}],ps=()=>{const{user:s}=ne(),[l,r]=a.useState(!1),[m,i]=a.useState(null);return{createCheckoutSession:n=>$(null,null,function*(){var y;r(!0),i(null);try{let d,b;const{data:{session:_}}=yield F.auth.getSession();if((y=_==null?void 0:_.user)!=null&&y.email)d=_.user.email,b=_.user.id;else throw new Error("You must be logged in to make a purchase");const v=ke.find(g=>g.priceId===n);if(!v)throw new Error("Product not found");const{data:p,error:f}=yield F.functions.invoke("stripe-checkout",{body:{price_id:n,mode:v.mode,customer_email:d,client_reference_id:b,success_url:`${window.location.origin}/success`,cancel_url:`${window.location.origin}/get-started`}});if(f)throw new Error(f.message);p!=null&&p.url&&window.open(p.url,"_blank")}catch(d){i(d instanceof Error?d.message:"An error occurred")}finally{r(!1)}}),createPortalSession:()=>$(null,null,function*(){if(!s){i("You must be logged in");return}r(!0),i(null);try{const{data:{session:n}}=yield F.auth.getSession();if(!n)throw new Error("No active session");const{data:y,error:d}=yield F.functions.invoke("create-portal-session",{headers:{Authorization:`Bearer ${n.access_token}`},body:{return_url:`${window.location.origin}/settings`}});if(d)throw new Error(d.message);y!=null&&y.url&&window.open(y.url,"_blank")}catch(n){i(n instanceof Error?n.message:"An error occurred")}finally{r(!1)}}),changePlan:n=>$(null,null,function*(){var y;r(!0),i(null);try{const{data:{session:d}}=yield F.auth.getSession();if(!((y=d==null?void 0:d.user)!=null&&y.email))throw new Error("You must be logged in");const b=ke.find(p=>p.priceId===n);if(!b)throw new Error("Product not found");const{data:_,error:v}=yield F.functions.invoke("stripe-checkout",{body:{price_id:n,mode:b.mode,customer_email:d.user.email,client_reference_id:d.user.id,success_url:`${window.location.origin}/settings?plan_changed=true`,cancel_url:`${window.location.origin}/settings`,is_plan_change:!0}});if(v)throw new Error(v.message);_!=null&&_.url&&(window.location.href=_.url)}catch(d){i(d instanceof Error?d.message:"An error occurred")}finally{r(!1)}}),loading:l,error:m}},gt=()=>{var T,S,k,P,z;const{user:s}=ne(),{createPortalSession:l,changePlan:r,loading:m,error:i}=ps(),[t,h]=a.useState(null),[x,n]=a.useState(!0),[y,d]=a.useState(null),[b,_]=a.useState(null);a.useEffect(()=>{$(null,null,function*(){if(s)try{n(!0),d(null),console.log("Settings: Fetching subscription for user:",s.id);const{data:u}=yield F.from("stripe_customers").select("*").eq("user_id",s.id).maybeSingle();if(console.log("Settings: Customer data found:",u),u){const{data:E}=yield F.from("stripe_subscriptions").select("*").eq("customer_id",u.customer_id).maybeSingle();console.log("Settings: Subscription data found:",{subscription_id:E==null?void 0:E.subscription_id,price_id:E==null?void 0:E.price_id,status:E==null?void 0:E.status,customer_id:E==null?void 0:E.customer_id}),h(E)}}catch(u){console.error("Error fetching subscription data:",u),d("Failed to load subscription data")}finally{n(!1)}})},[s]),a.useEffect(()=>{new URLSearchParams(window.location.search).get("plan_changed")==="true"&&(_("Your plan has been updated successfully!"),setTimeout(()=>$(null,null,function*(){if(console.log("Settings: Plan changed, forcing data refresh..."),!s)return;const{data:u}=yield F.from("stripe_customers").select("*").eq("user_id",s.id).maybeSingle();if(u){const{data:E}=yield F.from("stripe_subscriptions").select("*").eq("customer_id",u.customer_id).maybeSingle();console.log("Settings: Refreshed subscription data:",{subscription_id:E==null?void 0:E.subscription_id,price_id:E==null?void 0:E.price_id,status:E==null?void 0:E.status}),h(E)}window.refreshSubscription&&window.refreshSubscription()}),2e3),window.history.replaceState({},"",window.location.pathname))},[]);const v=()=>{if(!(t!=null&&t.price_id))return null;console.log("Settings: Getting current plan for price_id:",t.price_id);const q=ke.find(u=>u.priceId===t.price_id);return console.log("Settings: Found product:",q),ke.find(u=>u.priceId===t.price_id)},p=()=>{const q=v();return q?ke.find(u=>u.id!==q.id):null},f=()=>$(null,null,function*(){yield l()}),g=q=>$(null,null,function*(){q&&(yield r(q))}),N=()=>(t==null?void 0:t.status)==="past_due";return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and subscription"})]}),y&&e.jsx(se,{type:"error",message:y,onClose:()=>d(null)}),b&&e.jsx(se,{type:"success",message:b,onClose:()=>_(null)}),i&&e.jsx(se,{type:"error",message:i,onClose:()=>{}}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(je,{className:"h-6 w-6 text-gray-400 mr-2"}),e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Account Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-gray-700",children:(s==null?void 0:s.email)||"Loading..."})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Account created: ",s!=null&&s.created_at?new Date(s.created_at).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subscription"}),t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Plan:"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:((T=v())==null?void 0:T.name)||"Unknown Plan"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${t.status==="active"?"bg-green-100 text-green-800":t.status==="trialing"?"bg-blue-100 text-blue-800":t.status==="past_due"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.status.replace("_"," ")})]}),t.current_period_end&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:t.status==="trialing"?"Trial ends:":"Renews on:"}),e.jsx("span",{className:"text-gray-900",children:new Date(t.current_period_end*1e3).toLocaleDateString()})]}),N()&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 text-red-600 mr-2"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Payment Issue"}),e.jsx("p",{className:"text-red-600",children:"Please update your payment method."})]})]})}),p()&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:((S=v())==null?void 0:S.id)==="standard"?"Upgrade to Premium":"Downgrade to Standard"}),e.jsxs("div",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Charged immediately:"})," You'll be charged the difference ($",((k=v())==null?void 0:k.id)==="standard"?"$20":"-$20",") right now."]}),e.jsx("p",{children:"Changes take effect immediately with prorated billing."}),(t==null?void 0:t.status)==="trialing"&&e.jsx("p",{className:"font-medium",children:"This will end your trial and start billing immediately."})]})]}),e.jsxs("button",{onClick:()=>g(p().priceId),disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[((P=v())==null?void 0:P.id)==="standard"?e.jsx(Rs,{className:"h-4 w-4"}):e.jsx(Ms,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Processing...":((z=v())==null?void 0:z.id)==="standard"?"Upgrade":"Downgrade"})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[e.jsxs("button",{onClick:f,disabled:m,className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition-colors duration-200 font-medium flex items-center space-x-2 disabled:opacity-50",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Loading...":"Manage Billing"})]}),N()&&e.jsxs("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[e.jsx(Is,{className:"h-4 w-4"}),e.jsx("span",{children:"Update Payment"})]})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No active subscription found."}),e.jsx("button",{onClick:()=>window.location.href="/get-started",className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Choose a Plan"})]})]})]})]})})})})},pt=()=>{const{createCheckoutSession:s,loading:l,error:r}=ps(),[m,i]=a.useState("premium"),t=()=>$(null,null,function*(){const h=ke.find(x=>x.id===m);h&&(yield s(h.priceId))});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-primary-100 px-4 py-2 rounded-full",children:[e.jsx(oe,{className:"h-6 w-6 text-primary-950"}),e.jsx("span",{className:"text-primary-950 font-semibold",children:"TestiFlow"})]})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Start your 7-day free trial and experience the full power of TestiFlow."}),e.jsx("p",{className:"text-lg text-gray-500 mb-8",children:"Cancel anytime during your trial with no charges."})]}),r&&e.jsx("div",{className:"mb-8",children:e.jsx(se,{type:"error",message:r,onClose:()=>{}})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto mb-12",children:[e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden border-2 cursor-pointer transition-all duration-300 hover:shadow-xl ${m==="standard"?"border-primary-500 ring-4 ring-primary-100 transform scale-105":"border-gray-200 hover:border-primary-300"}`,onClick:()=>i("standard"),children:[e.jsxs("div",{className:`px-6 py-8 text-center border-b border-gray-200 ${m==="standard"?"bg-primary-50":"bg-gray-50"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${m==="standard"?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:m==="standard"&&e.jsx(me,{className:"h-4 w-4 text-white"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Standard"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-5xl font-bold text-gray-900",children:"$29"}),e.jsx("span",{className:"text-xl text-gray-500 ml-1",children:"/mo"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Perfect for small businesses getting started"})]}),e.jsx("div",{className:"px-6 py-8",children:e.jsx("ul",{className:"space-y-4",children:["Up to 25 testimonials","1 collection form - Simple form to request testimonials","Basic approval workflow - Review before testimonials go live","CSV export","Email notifications - Get notified of new submissions"].map((h,x)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-5 w-5 text-secondary-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},x))})})]}),e.jsxs("div",{className:`bg-white rounded-2xl shadow-xl overflow-hidden border-2 cursor-pointer transition-all duration-300 hover:shadow-2xl relative ${m==="premium"?"border-secondary-500 ring-4 ring-secondary-100 transform scale-105":"border-secondary-300 hover:border-secondary-400"}`,onClick:()=>i("premium"),children:[e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white px-4 py-1 rounded-full text-sm font-semibold shadow-lg",children:"MOST POPULAR"})}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-950 to-secondary-500 px-6 py-8 text-center relative",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${m==="premium"?"border-white bg-white":"border-white/50"}`,children:m==="premium"&&e.jsx(me,{className:"h-4 w-4 text-primary-950"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Premium"}),e.jsxs("div",{className:"mt-4 flex items-baseline justify-center",children:[e.jsx("span",{className:"text-5xl font-bold text-white",children:"$49"}),e.jsx("span",{className:"text-xl text-white/80 ml-1",children:"/mo"})]}),e.jsx("p",{className:"mt-2 text-white/90",children:"Complete solution for growing businesses"})]}),e.jsx("div",{className:"px-6 py-8",children:e.jsx("ul",{className:"space-y-4",children:["Unlimited testimonials & forms","Custom fields & branding","Image + video testimonials - Rich media collection","Website widget generator","Advanced exports (JSON, social media posts)","Tag organization"].map((h,x)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(me,{className:"h-5 w-5 text-secondary-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},x))})})]})]}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-secondary-500 to-accent-500 w-12 h-12 rounded-full flex items-center justify-center",children:e.jsx(me,{className:"h-6 w-6 text-white"})})}),e.jsx("h3",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Start Your Free Trial"}),e.jsxs("div",{className:"text-lg text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold text-primary-950",children:m==="standard"?"Standard Plan":"Premium Plan"})," selected"]})]}),e.jsx("div",{className:"bg-gradient-to-r from-secondary-50 to-accent-50 rounded-xl p-6 mb-6 border border-secondary-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-950 mb-1",children:"7 Days Free"}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Full access to all features"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 text-secondary-500 mr-1"}),e.jsx("span",{children:"No charges during trial"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"h-4 w-4 text-secondary-500 mr-1"}),e.jsx("span",{children:"Cancel anytime"})]})]})]})}),e.jsxs("p",{className:"text-gray-600 mb-6 text-center",children:["After your trial, you'll be charged ",m==="standard"?"$29":"$49","/month. You can change or cancel your plan anytime."]}),e.jsx("button",{onClick:t,disabled:l,className:"w-full bg-primary-950 text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-900 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Starting trial..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Start 7-Day Trial"}),e.jsx(Te,{className:"h-5 w-5"})]})}),e.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"7-day free trial"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"By starting your trial, you agree to our Terms of Service and Privacy Policy"})})]})})]})})},ft=()=>{const[s,l]=a.useState(""),[r,m]=a.useState(!1),[i,t]=a.useState(""),[h,x]=a.useState(!1),n=y=>$(null,null,function*(){y.preventDefault(),m(!0),t("");const{error:d}=yield F.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});d?t(d.message):x(!0),m(!1)});return h?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Check your email"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"success",message:`We've sent a password reset link to ${s}. Click the link in the email to reset your password.`})}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Didn't receive the email? Check your spam folder or try again."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>x(!1),className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors",children:"Try again"}),e.jsx(Z,{to:"/login",className:"block w-full text-center text-sm text-indigo-600 hover:text-indigo-500",children:"Back to sign in"})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:i,onClose:()=>t("")})}),e.jsxs("form",{className:"space-y-6",onSubmit:n,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Se,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:y=>l(y.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your email"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending email..."]}):"Send reset email"})}),e.jsx("div",{className:"text-center",children:e.jsxs(Z,{to:"/login",className:"flex items-center justify-center text-sm text-indigo-600 hover:text-indigo-500",children:[e.jsx(zs,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})})]})]})})]})},yt=()=>{const[s,l]=a.useState(""),[r,m]=a.useState(""),[i,t]=a.useState(!1),[h,x]=a.useState(!1),[n,y]=a.useState(!1),[d,b]=a.useState(""),[_,v]=a.useState(!1),[p]=Es(),f=ve(),N=(P=>{const z={length:P.length>=8,uppercase:/[A-Z]/.test(P),lowercase:/[a-z]/.test(P),number:/\d/.test(P),special:/[!@#$%^&*(),.?":{}|<>]/.test(P)},q=Object.values(z).filter(Boolean).length;return{requirements:z,score:q}})(s),T=N.score>=4;a.useEffect(()=>{const P=new URLSearchParams(window.location.hash.substring(1)),z=p.get("access_token")||P.get("access_token"),q=p.get("refresh_token")||P.get("refresh_token");if(!z||!q){b("Invalid or expired reset link. Please request a new password reset.");return}F.auth.setSession({access_token:z,refresh_token:q})},[p]);const S=P=>$(null,null,function*(){if(P.preventDefault(),y(!0),b(""),s!==r){b("Passwords do not match"),y(!1);return}if(!T){b("Please create a stronger password that meets the requirements below"),y(!1);return}const{error:z}=yield F.auth.updateUser({password:s});z?b(z.message):v(!0),y(!1)}),k=()=>{F.auth.signOut(),f("/login"),window.location.reload()};return _?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Password Updated"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(xe,{className:"h-16 w-16 text-green-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your password has been successfully updated!"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"You can now sign in with your new password."}),e.jsx("button",{onClick:k,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-md font-semibold hover:bg-indigo-700 transition-colors",children:"Continue to Sign In"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-indigo-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TestiFlow"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Set new password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:d,onClose:()=>b("")})}),e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"new-password",required:!0,value:s,onChange:P=>l(P.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter your new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!i),children:i?e.jsx(Oe,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):e.jsx(de,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),s&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Password strength:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.length?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.length?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.uppercase?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.uppercase?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.lowercase?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.lowercase?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.number?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.number?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("div",{className:`text-xs flex items-center ${N.requirements.special?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${N.requirements.special?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:P=>m(P.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Confirm your new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!h),children:h?e.jsx(Oe,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):e.jsx(de,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n||!T,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating password..."]}):"Update password"})})]})]})})]})},Pe={standard:{maxTestimonials:25,maxForms:1,canUseCustomFields:!1,canUseBranding:!1,canUseVideoUploads:!1,canUseAdvancedExports:!1,canUseTags:!1,canUseImageUploads:!0},premium:{maxTestimonials:1/0,maxForms:1/0,canUseCustomFields:!0,canUseBranding:!0,canUseVideoUploads:!0,canUseAdvancedExports:!0,canUseTags:!0,canUseImageUploads:!0}},Me=()=>{const{user:s}=ne(),[l,r]=a.useState(0),[m,i]=a.useState({plan:null,status:"not_started",isActive:!1,isTrialing:!1,limits:Pe.standard,currentUsage:{testimonialCount:0,formCount:0}}),t=()=>{r(h=>h+1)};return a.useEffect(()=>(window.refreshSubscription=t,()=>{delete window.refreshSubscription}),[]),a.useEffect(()=>{$(null,null,function*(){if(s)try{console.log("Fetching subscription info for user:",s.id);const{data:x}=yield F.from("stripe_customers").select("customer_id").eq("user_id",s.id).maybeSingle();if(console.log("Customer data:",x),!x){console.log("No customer found - setting Standard limits"),i(T=>I(M({},T),{plan:null,status:"not_started",isActive:!1,isTrialing:!1,limits:Pe.standard}));return}const{data:n}=yield F.from("stripe_subscriptions").select("*").eq("customer_id",x.customer_id).maybeSingle();console.log("Subscription data:",n);const{data:y}=yield F.from("testimonial_forms").select("id").eq("user_id",s.id),d=(y==null?void 0:y.length)||0;let b=0;if(y&&y.length>0){const T=y.map(k=>k.id),{count:S}=yield F.from("testimonials").select("*",{count:"exact",head:!0}).in("form_id",T);b=S||0}let _=null;if(n!=null&&n.price_id){const T="price_1Rznb5Dn6VTzl81bjqFfCagv",S="price_1Rznb5Dn6VTzl81b8Hx5UQt6";console.log("useSubscription: Price ID comparison:",{currentPriceId:n.price_id,standardPriceId:T,premiumPriceId:S,isStandard:n.price_id===T,isPremium:n.price_id===S}),n.price_id===T?(_="standard",console.log("useSubscription: Detected Standard plan")):n.price_id===S?(_="premium",console.log("useSubscription: Detected Premium plan")):(console.warn("useSubscription: Unknown price ID:",n.price_id),console.log("useSubscription: Full subscription data for debugging:",n))}const v=(n==null?void 0:n.status)==="active",p=(n==null?void 0:n.status)==="trialing",f=v||p,g=_||"standard";console.log("useSubscription: Final plan detection:",{priceId:n==null?void 0:n.price_id,detectedPlan:_,effectivePlan:g,status:n==null?void 0:n.status,isTrialing:p,isActive:v,limitsApplied:Pe[g]});const N=Pe[g];i({plan:_,status:(n==null?void 0:n.status)||"not_started",isActive:f,isTrialing:p,limits:N,currentUsage:{testimonialCount:b,formCount:d}}),console.log("useSubscription: Subscription info updated:",{plan:_,effectivePlan:g,limits:N,currentUsage:{testimonialCount:b,formCount:d}})}catch(x){console.error("Error fetching subscription info:",x),i(n=>I(M({},n),{limits:Pe.standard}))}})},[s,l]),m},ds=s=>s.isActive||s.isTrialing?s.currentUsage.formCount<s.limits.maxForms:!1,be=({feature:s,description:l,inline:r=!1,className:m=""})=>{const i=ve(),t=()=>{i("/settings")};return r?e.jsx("div",{className:`bg-gradient-to-r from-accent-50 to-accent-100 border border-accent-200 rounded-lg p-3 ${m}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-accent-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-accent-900",children:[s," - Premium Feature"]}),e.jsxs("div",{className:"text-xs text-accent-700",children:[l||`${s} is available with Premium. Upgrade to unlock this powerful feature.`,e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Charged immediately • Prorated billing"})]})]})]}),e.jsxs("button",{onClick:t,className:"bg-accent-600 text-white px-3 py-1 rounded-md text-xs font-medium hover:bg-accent-700 transition-colors flex items-center space-x-1",children:[e.jsx("span",{children:"Upgrade"}),e.jsx(Te,{className:"h-3 w-3"})]})]})}):e.jsxs("div",{className:`bg-white border-2 border-dashed border-accent-300 rounded-xl p-8 text-center ${m}`,children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-accent-100 to-accent-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ve,{className:"h-8 w-8 text-accent-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:l||`${s} is available with Premium. Upgrade to unlock this powerful feature.`}),e.jsxs("button",{onClick:t,className:"bg-accent-600 text-white px-6 py-3 rounded-lg hover:bg-accent-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2 mx-auto",children:[e.jsx(Ve,{className:"h-5 w-5"}),e.jsx("span",{children:"Upgrade to Premium"}),e.jsx(Te,{className:"h-5 w-5"})]})]})},Je=[{value:"text",label:"Short Text",icon:"📝"},{value:"textarea",label:"Long Text",icon:"📄"},{value:"email",label:"Email",icon:"📧"},{value:"url",label:"Website URL",icon:"🔗"},{value:"select",label:"Dropdown Menu",icon:"📋",description:"Select one option from a list"},{value:"radio",label:"Single Choice",icon:"🔘",description:"Choose one option (radio buttons)"},{value:"checkbox",label:"Multi-Select",icon:"✅",description:"Select multiple options (checkboxes)"},{value:"rating",label:"Additional Rating",icon:"⭐",description:"Extra star rating (main rating already included)"}],bt=({formId:s,onFieldsChange:l})=>{const[r,m]=a.useState([]),[i,t]=a.useState(!0),[h,x]=a.useState(null),[n,y]=a.useState(null),[d,b]=a.useState(null),[_,v]=a.useState(!1),[p,f]=a.useState({field_type:"text",label:"",placeholder:"",options:[""],is_required:!1});a.useEffect(()=>{g()},[s]);const g=()=>$(null,null,function*(){try{const{data:o,error:C}=yield F.from("form_fields").select("*").eq("form_id",s).order("sort_order",{ascending:!0});if(C)throw C;m(o||[])}catch(o){console.error("Error fetching form fields:",o),x("Failed to load form fields")}finally{t(!1)}}),N=o=>$(null,null,function*(){o.preventDefault();try{x(null);const C=Math.max(...r.map(U=>U.sort_order),-1),{data:O,error:w}=yield F.from("form_fields").insert([{form_id:s,field_type:p.field_type,label:p.label,placeholder:p.placeholder,options:p.field_type==="select"||p.field_type==="radio"||p.field_type==="checkbox"?p.options.filter(U=>U.trim()):[],is_required:p.is_required,sort_order:C+1}]).select().single();if(w)throw w;m([...r,O]),v(!1),f({field_type:"text",label:"",placeholder:"",options:[""],is_required:!1}),y("Field added successfully!"),l==null||l()}catch(C){console.error("Error adding field:",C),x("Failed to add field")}}),T=o=>$(null,null,function*(){try{x(null);const{error:C}=yield F.from("form_fields").update({field_type:o.field_type,label:o.label,placeholder:o.placeholder,options:o.field_type==="select"||o.field_type==="radio"||o.field_type==="checkbox"?o.options.filter(O=>O.trim()):[],is_required:o.is_required}).eq("id",o.id);if(C)throw C;m(r.map(O=>O.id===o.id?o:O)),b(null),y("Field updated successfully!"),l==null||l()}catch(C){console.error("Error updating field:",C),x("Failed to update field")}}),S=o=>$(null,null,function*(){try{const{error:C}=yield F.from("form_fields").delete().eq("id",o);if(C)throw C;m(r.filter(O=>O.id!==o)),y("Field deleted successfully!"),l==null||l()}catch(C){console.error("Error deleting field:",C),x("Failed to delete field")}}),k=(o,C)=>$(null,null,function*(){if(o===C)return;const O=[...r],[w]=O.splice(o,1);O.splice(C,0,w);const U=O.map((Y,c)=>I(M({},Y),{sort_order:c}));m(U);try{for(let Y=0;Y<U.length;Y++)yield F.from("form_fields").update({sort_order:Y}).eq("id",U[Y].id);y("Field order updated!")}catch(Y){console.error("Error reordering fields:",Y),x("Failed to save field order")}}),P=o=>{o>0&&k(o,o-1)},z=o=>{o<r.length-1&&k(o,o+1)},q=o=>[...o,""],u=(o,C,O)=>{const w=[...o];return w[C]=O,w},E=(o,C)=>o.filter((O,w)=>w!==C);return i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-950"})}):e.jsxs("div",{className:"space-y-6",children:[h&&e.jsx(se,{type:"error",message:h,onClose:()=>x(null)}),n&&e.jsx(se,{type:"success",message:n,onClose:()=>y(null)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Fields"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add custom questions beyond the standard fields (name, email, company, rating, testimonial)"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"bg-primary-950 text-white px-4 py-2 rounded-lg hover:bg-primary-900 transition-colors flex items-center space-x-2",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Field"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"📋 Standard Fields (Already Included)"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"⭐ Overall Rating"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"👤 Customer Name"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"📧 Email Address"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"🏢 Company (Optional)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"💬 Main Testimonial"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-800",children:"📸 Media Uploads"})]})]}),e.jsx("p",{className:"text-xs text-blue-700 mt-3",children:"✨ These fields are automatically included in every form. Use custom fields below to ask additional questions."})]}),e.jsxs("div",{className:"space-y-3",children:[r.map((o,C)=>{var O;return e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("button",{onClick:()=>P(C),disabled:C===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:e.jsx(ms,{className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>z(C),disabled:C===r.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:e.jsx(xs,{className:"h-3 w-3"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[o.label,o.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(O=Je.find(w=>w.value===o.field_type))==null?void 0:O.label,o.placeholder&&` • ${o.placeholder}`]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>b(o),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(o.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(Ye,{className:"h-4 w-4"})})]})]})},o.id)}),r.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No custom fields yet. Your form already includes the standard fields above - add additional questions here!"})})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add Custom Field"}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field Type"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["💡 ",e.jsx("strong",{children:"Tip:"}),` Your form already includes name, email, company, rating, and testimonial fields. Add custom fields here for additional questions like "How did you hear about us?\\" or \\"What's your role?"`]})}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Je.map(o=>e.jsx("button",{type:"button",onClick:()=>f(I(M({},p),{field_type:o.value})),className:`p-3 border rounded-lg text-left transition-colors ${p.field_type===o.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:o.icon}),e.jsx("span",{className:"font-medium",children:o.label})]})},o.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question/Label"}),e.jsx("input",{type:"text",value:p.label,onChange:o=>f(I(M({},p),{label:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"What would you like to ask?",required:!0})]}),(p.field_type==="text"||p.field_type==="textarea"||p.field_type==="email"||p.field_type==="url")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder Text (Optional)"}),e.jsx("input",{type:"text",value:p.placeholder,onChange:o=>f(I(M({},p),{placeholder:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter placeholder text..."})]}),(p.field_type==="select"||p.field_type==="radio"||p.field_type==="checkbox")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),e.jsxs("div",{className:"space-y-2",children:[p.options.map((o,C)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:o,onChange:O=>f(I(M({},p),{options:u(p.options,C,O.target.value)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:`Option ${C+1}`}),p.options.length>1&&e.jsx("button",{type:"button",onClick:()=>f(I(M({},p),{options:E(p.options,C)})),className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(le,{className:"h-4 w-4"})})]},C)),e.jsxs("button",{type:"button",onClick:()=>f(I(M({},p),{options:q(p.options)})),className:"text-sm text-primary-950 hover:text-primary-800 flex items-center space-x-1",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Add Option"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"required",checked:p.is_required,onChange:o=>f(I(M({},p),{is_required:o.target.checked})),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"required",className:"text-sm text-gray-700",children:"Required field"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-primary-950 text-white py-2 px-4 rounded-md hover:bg-primary-900 transition-colors",children:"Add Field"}),e.jsx("button",{type:"button",onClick:()=>{v(!1),f({field_type:"text",label:"",placeholder:"",options:[""],is_required:!1})},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Edit Field"}),e.jsxs("form",{onSubmit:o=>{o.preventDefault(),T(d)},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Je.map(o=>e.jsx("button",{type:"button",onClick:()=>b(I(M({},d),{field_type:o.value,options:o.value==="select"||o.value==="radio"||o.value==="checkbox"?d.options.length>0?d.options:[""]:[]})),className:`p-3 border rounded-lg text-left transition-colors ${d.field_type===o.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:o.icon}),e.jsx("span",{className:"font-medium",children:o.label})]}),o.description&&e.jsx("p",{className:"text-xs text-gray-500",children:o.description})]})},o.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question/Label"}),e.jsx("input",{type:"text",value:d.label,onChange:o=>b(I(M({},d),{label:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),(d.field_type==="text"||d.field_type==="textarea"||d.field_type==="email"||d.field_type==="url")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder Text (Optional)"}),e.jsx("input",{type:"text",value:d.placeholder,onChange:o=>b(I(M({},d),{placeholder:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(d.field_type==="select"||d.field_type==="radio"||d.field_type==="checkbox")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),e.jsxs("div",{className:"space-y-2",children:[d.options.map((o,C)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:o,onChange:O=>b(I(M({},d),{options:u(d.options,C,O.target.value)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:`Option ${C+1}`}),d.options.length>1&&e.jsx("button",{type:"button",onClick:()=>b(I(M({},d),{options:E(d.options,C)})),className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(le,{className:"h-4 w-4"})})]},C)),e.jsxs("button",{type:"button",onClick:()=>b(I(M({},d),{options:q(d.options)})),className:"text-sm text-primary-950 hover:text-primary-800 flex items-center space-x-1",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Add Option"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"edit-required",checked:d.is_required,onChange:o=>b(I(M({},d),{is_required:o.target.checked})),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"edit-required",className:"text-sm text-gray-700",children:"Required field"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-primary-950 text-white py-2 px-4 rounded-md hover:bg-primary-900 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Changes"})]}),e.jsx("button",{type:"button",onClick:()=>b(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})})]})},jt=()=>{const{user:s}=ne(),l=Me(),[r,m]=a.useState([]),[i,t]=a.useState(!0),[h,x]=a.useState(null),[n,y]=a.useState(null),[d,b]=a.useState(!1),[_,v]=a.useState(null),[p,f]=a.useState(null),[g,N]=a.useState(null),[T,S]=a.useState(null),[k,P]=a.useState({title:"Share Your Experience",description:"We'd love to hear about your experience with us!",thank_you_message:"Thank you for your testimonial!",allow_image_uploads:!0,allow_video_uploads:!1,max_image_size_mb:10,max_video_size_mb:100});a.useEffect(()=>{z()},[s]);const z=()=>$(null,null,function*(){if(s)try{const{data:c,error:L}=yield F.from("testimonial_forms").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});if(L)throw L;const B=yield Promise.all((c||[]).map(ce=>$(null,null,function*(){const{count:ue}=yield F.from("form_fields").select("*",{count:"exact",head:!0}).eq("form_id",ce.id);return I(M({},ce),{custom_field_count:ue||0})})));m(B)}catch(c){console.error("Error fetching forms:",c),x("Failed to load forms")}finally{t(!1)}}),q=c=>$(null,null,function*(){if(c.preventDefault(),!!s)try{x(null);const{data:L,error:B}=yield F.from("testimonial_forms").insert([{user_id:s.id,title:k.title,description:k.description,thank_you_message:k.thank_you_message,is_active:!0,allow_image_uploads:k.allow_image_uploads,allow_video_uploads:k.allow_video_uploads,max_image_size_mb:k.max_image_size_mb,max_video_size_mb:k.max_video_size_mb}]).select().single();if(B)throw B;m([L,...r]),b(!1),P({title:"Share Your Experience",description:"We'd love to hear about your experience with us!",thank_you_message:"Thank you for your testimonial!",allow_image_uploads:!0,allow_video_uploads:!1,max_image_size_mb:10,max_video_size_mb:100}),y("Form created successfully!")}catch(L){console.error("Error creating form:",L),x("Failed to create form")}}),u=c=>$(null,null,function*(){if(c.preventDefault(),!(!s||!_))try{x(null);const{data:L,error:B}=yield F.from("testimonial_forms").update({title:k.title,description:k.description,thank_you_message:k.thank_you_message,allow_image_uploads:k.allow_image_uploads,allow_video_uploads:k.allow_video_uploads,max_image_size_mb:k.max_image_size_mb,max_video_size_mb:k.max_video_size_mb}).eq("id",_.id).eq("user_id",s.id).select().single();if(B)throw B;m(r.map(ce=>ce.id===_.id?L:ce)),v(null),b(!1),P({title:"Share Your Experience",description:"We'd love to hear about your experience with us!",thank_you_message:"Thank you for your testimonial!",allow_image_uploads:!0,allow_video_uploads:!1,max_image_size_mb:10,max_video_size_mb:100}),y("Form updated successfully!")}catch(L){console.error("Error updating form:",L),x("Failed to update form")}}),E=c=>$(null,null,function*(){try{const{error:L}=yield F.from("testimonial_forms").update({is_active:!c.is_active}).eq("id",c.id).eq("user_id",s.id);if(L)throw L;m(r.map(B=>B.id===c.id?I(M({},B),{is_active:!B.is_active}):B)),y(`Form ${c.is_active?"deactivated":"activated"} successfully!`)}catch(L){console.error("Error toggling form status:",L),x("Failed to update form status")}}),o=c=>$(null,null,function*(){try{const{error:L}=yield F.from("testimonial_forms").delete().eq("id",c).eq("user_id",s.id);if(L)throw L;m(r.filter(B=>B.id!==c)),f(null),y("Form deleted successfully!")}catch(L){console.error("Error deleting form:",L),x("Failed to delete form")}}),C=c=>`${window.location.origin}/submit/${c}`,O=c=>{navigator.clipboard.writeText(C(c)).then(()=>{y("Form link copied to clipboard!")}).catch(L=>{console.error("Failed to copy URL:",L);const B=document.createElement("textarea");B.value=C(c),document.body.appendChild(B),B.select(),document.execCommand("copy"),document.body.removeChild(B),y("Form link copied to clipboard!")})},w=c=>{var L,B,ce,ue;v(c),P({title:c.title,description:c.description||"",thank_you_message:c.thank_you_message||"",allow_image_uploads:(L=c.allow_image_uploads)!=null?L:!0,allow_video_uploads:(B=c.allow_video_uploads)!=null?B:!1,max_image_size_mb:(ce=c.max_image_size_mb)!=null?ce:10,max_video_size_mb:(ue=c.max_video_size_mb)!=null?ue:100}),b(!0)},U=()=>{v(null),b(!1),P({title:"Share Your Experience",description:"We'd love to hear about your experience with us!",thank_you_message:"Thank you for your testimonial!",allow_image_uploads:!0,allow_video_uploads:!1,max_image_size_mb:10,max_video_size_mb:100})},Y=()=>{if(!ds(l)){x(`You've reached the limit of ${l.limits.maxForms} form${l.limits.maxForms!==1?"s":""} for your current plan. Upgrade to Premium for unlimited forms.`);return}b(!0)};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-950"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Forms"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage testimonial collection forms"})]}),e.jsxs("button",{onClick:Y,className:"bg-primary-950 text-white px-6 py-3 rounded-lg hover:bg-primary-900 transition-all duration-200 flex items-center space-x-2 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[e.jsx(ye,{className:"h-5 w-5"}),e.jsx("span",{children:"New Form"})]})]}),h&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:h,onClose:()=>x(null)})}),n&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"success",message:n,onClose:()=>y(null)})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>U(),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:_?"Edit Form":"Create New Form"}),e.jsx("button",{onClick:U,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:_?u:q,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Form Title"}),e.jsx("input",{type:"text",value:k.title,onChange:c=>P(I(M({},k),{title:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thank You Message"}),e.jsx("input",{type:"text",value:k.thank_you_message,onChange:c=>P(I(M({},k),{thank_you_message:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:k.description,onChange:c=>P(I(M({},k),{description:c.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"📸 Media Upload Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"allow_images",checked:k.allow_image_uploads,onChange:c=>P(I(M({},k),{allow_image_uploads:c.target.checked})),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"allow_images",className:"text-sm font-medium text-gray-700",children:"Allow image uploads"})]}),k.allow_image_uploads&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Max size:"}),e.jsxs("select",{value:k.max_image_size_mb,onChange:c=>P(I(M({},k),{max_image_size_mb:parseInt(c.target.value)})),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:5,children:"5MB"}),e.jsx("option",{value:10,children:"10MB"}),e.jsx("option",{value:20,children:"20MB"}),e.jsx("option",{value:50,children:"50MB"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"allow_videos",checked:k.allow_video_uploads,onChange:c=>P(I(M({},k),{allow_video_uploads:c.target.checked})),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500",disabled:!l.limits.canUseVideoUploads}),e.jsxs("label",{htmlFor:"allow_videos",className:"text-sm font-medium text-gray-700",children:["Allow video uploads",!l.limits.canUseVideoUploads&&e.jsx("span",{className:"text-accent-600 ml-1 text-xs",children:"(Premium)"})]})]}),k.allow_video_uploads&&l.limits.canUseVideoUploads&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Max size:"}),e.jsxs("select",{value:k.max_video_size_mb,onChange:c=>P(I(M({},k),{max_video_size_mb:parseInt(c.target.value)})),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:50,children:"50MB"}),e.jsx("option",{value:100,children:"100MB"}),e.jsx("option",{value:200,children:"200MB"}),e.jsx("option",{value:500,children:"500MB"})]})]})]}),!l.limits.canUseVideoUploads&&e.jsx("div",{className:"mt-2",children:e.jsx(be,{feature:"Video Testimonials",description:"Collect rich video testimonials from customers",inline:!0})})]}),e.jsx("p",{className:"text-xs text-blue-700 mt-3",children:"💡 Enable media uploads to collect richer testimonials with photos and videos"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(We,{className:"h-4 w-4 text-blue-900"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"💡 Standard vs Custom Fields"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Your form includes: ",e.jsx("strong",{children:"Name"})," (for attribution), ",e.jsx("strong",{children:"Email"})," (contact), ",e.jsx("strong",{children:"Company"})," (optional), ",e.jsx("strong",{children:"Rating"})," (1-5 stars), and ",e.jsx("strong",{children:"Testimonial"})," (main message for marketing). Add custom fields after creation for extra questions."]})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-primary-950 text-white py-2 px-4 rounded-md hover:bg-primary-900 transition-colors font-medium",children:_?"Save Changes":"Create Form"}),e.jsx("button",{type:"button",onClick:U,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>f(null),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delete Form"}),e.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',e.jsx("strong",{children:p.title}),'"? This will also delete all associated testimonials and cannot be undone.']}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>o(p.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors font-medium",children:"Delete Form"}),e.jsx("button",{onClick:()=>f(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]})}),r.length===0?e.jsx("div",{className:"text-center py-16",children:ds(l)?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ae,{className:"h-12 w-12 text-primary-950"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Create Your First Form"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto text-lg",children:"Start gathering customer testimonials by creating a customized form that you can share with your customers."}),e.jsx("button",{onClick:Y,className:"bg-primary-950 text-white px-8 py-4 rounded-lg hover:bg-primary-900 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-lg",children:"Create Your First Form"})]}):e.jsx(be,{feature:"Multiple Forms",description:"Create unlimited testimonial collection forms with different questions and branding for various campaigns."})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(c=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 relative group",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("button",{onClick:()=>E(c),className:"flex items-center space-x-2 transition-colors",title:c.is_active?"Deactivate form":"Activate form",children:c.is_active?e.jsx(Ls,{className:"h-6 w-6 text-secondary-500"}):e.jsx(Bs,{className:"h-6 w-6 text-gray-400"})})}),e.jsxs("div",{className:"mb-4 pr-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 leading-tight",children:c.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:c.description})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c.is_active?"bg-secondary-100 text-secondary-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${c.is_active?"bg-secondary-500":"bg-gray-400"}`}),c.is_active?"Active":"Inactive"]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ws,{className:"h-4 w-4"}),e.jsxs("span",{children:["Created ",new Date(c.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsxs("span",{children:[c.custom_field_count||0," custom field",(c.custom_field_count||0)!==1?"s":""]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>S(c),className:"text-primary-950 hover:text-primary-800 text-sm font-medium flex items-center space-x-1 transition-colors",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>O(c.id),className:"bg-blue-50 text-blue-600 hover:bg-blue-100 px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",title:"Copy shareable link",children:[e.jsx(Re,{className:"h-3 w-3"}),e.jsx("span",{children:"Copy"})]}),e.jsxs("a",{href:C(c.id),target:"_blank",rel:"noopener noreferrer",className:"bg-gray-50 text-gray-600 hover:bg-gray-100 px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",title:"Preview form",children:[e.jsx(Qe,{className:"h-3 w-3"}),e.jsx("span",{children:"Preview"})]})]})]})]},c.id))}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>S(null),children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Details"}),e.jsx("button",{onClick:()=>S(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:T.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T.is_active?"bg-secondary-100 text-secondary-800":"bg-gray-100 text-gray-600"}`,children:T.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 text-sm",children:T.description})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Thank You Message"}),e.jsx("p",{className:"text-gray-600 text-sm",children:T.thank_you_message})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"📋 Shareable Form Link"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded border text-sm text-gray-700 font-mono",children:C(T.id)}),e.jsxs("button",{onClick:()=>O(T.id),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"📅 Form Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Created:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(T.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Updated:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(T.updated_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"📸 Media Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Images:"}),e.jsx("span",{className:"font-medium text-blue-900",children:T.allow_image_uploads?`${T.max_image_size_mb||10}MB`:"Disabled"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Videos:"}),e.jsx("span",{className:"font-medium text-blue-900",children:T.allow_video_uploads?`${T.max_video_size_mb||100}MB`:"Disabled"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{w(T),S(null)},className:"flex-1 bg-primary-950 text-white py-3 px-4 rounded-lg hover:bg-primary-900 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Form"})]}),e.jsxs("button",{onClick:()=>{N(T),S(null)},className:`flex-1 py-3 px-4 rounded-lg transition-colors font-medium flex items-center justify-center space-x-2 ${l.limits.canUseCustomFields?"bg-secondary-500 text-white hover:bg-secondary-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,disabled:!l.limits.canUseCustomFields,children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Custom Fields"})]}),e.jsx("button",{onClick:()=>{f(T),S(null)},className:"bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center justify-center",children:e.jsx(Ye,{className:"h-4 w-4"})})]}),!l.limits.canUseCustomFields&&e.jsx("div",{className:"mt-4",children:e.jsx(be,{feature:"Custom Fields",description:"Add custom questions beyond the standard fields",inline:!0})})]})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>N(null),children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Customize Form: ",g.title]}),e.jsx("button",{onClick:()=>N(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsx(bt,{formId:g.id,onFieldsChange:()=>{z()}})})]})})]})})})})},vt=({testimonialId:s,onTagsChange:l})=>{const{user:r}=ne(),[m,i]=a.useState([]),[t,h]=a.useState([]),[x,n]=a.useState(!0),[y,d]=a.useState(!1);a.useEffect(()=>{b()},[r,s]);const b=()=>$(null,null,function*(){if(r)try{const{data:f,error:g}=yield F.from("testimonial_tags").select("*").eq("user_id",r.id).order("name");if(g)throw g;const{data:N,error:T}=yield F.from("testimonial_tag_assignments").select(`
          tag_id,
          tag:testimonial_tags(id, name, color)
        `).eq("testimonial_id",s);if(T)throw T;i(f||[]),h((N==null?void 0:N.map(S=>S.tag).filter(Boolean))||[])}catch(f){console.error("Error fetching tags:",f)}finally{n(!1)}}),_=f=>$(null,null,function*(){try{const{data:g,error:N}=yield F.from("testimonial_tag_assignments").insert([{testimonial_id:s,tag_id:f}]).select();if(N)throw N;const T=m.find(S=>S.id===f);T&&(h([...t,T]),l==null||l()),console.log("Tag assigned successfully:",g)}catch(g){console.error("Error assigning tag:",g)}}),v=f=>$(null,null,function*(){try{const{error:g}=yield F.from("testimonial_tag_assignments").delete().eq("testimonial_id",s).eq("tag_id",f);if(g)throw g;h(t.filter(N=>N.id!==f)),l==null||l()}catch(g){console.error("Error removing tag:",g)}}),p=m.filter(f=>!t.some(g=>g.id===f.id));return x?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-950"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Loading tags..."})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map(f=>e.jsxs("div",{className:"inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border",style:{backgroundColor:`${f.color}20`,borderColor:f.color,color:f.color},children:[e.jsx("span",{children:f.name}),e.jsx("button",{onClick:()=>v(f.id),className:"hover:bg-black hover:bg-opacity-10 rounded-full p-0.5 transition-colors",children:e.jsx(le,{className:"h-3 w-3"})})]},f.id)),p.length>0&&e.jsxs("button",{onClick:()=>d(!y),className:"inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border border-dashed border-gray-300 text-gray-600 hover:border-primary-500 hover:text-primary-950 transition-colors",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Add Tag"})]})]}),y&&p.length>0&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute top-0 left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-48 max-h-48 overflow-y-auto",children:e.jsx("div",{className:"py-1",children:p.map(f=>e.jsxs("button",{onClick:()=>{_(f.id),d(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:f.color}}),e.jsx("span",{children:f.name})]},f.id))})})}),t.length===0&&p.length===0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"No tags available."}),e.jsx("a",{href:"/tags",className:"text-yellow-900 underline hover:text-yellow-700 ml-1",children:"Create tags first"})," to organize testimonials."]})})]})},Nt=(s,l="testimonials")=>{const r=["Name","Email","Company","Rating","Testimonial","Status","Submitted Date","Form","Custom Fields"],m=s.map(n=>[n.name,n.email,n.company||"",n.rating.toString(),`"${n.message.replace(/"/g,'""')}"`,n.status,new Date(n.submitted_at).toLocaleDateString(),n.form_title,n.custom_responses?Object.entries(n.custom_responses).map(([y,d])=>`${y}: ${d}`).join("; "):""]),i=[r,...m].map(n=>n.join(",")).join(`
`),t=new Blob([i],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a"),x=URL.createObjectURL(t);h.setAttribute("href",x),h.setAttribute("download",`${l}_${new Date().toISOString().split("T")[0]}.csv`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)},wt=(s,l="testimonials")=>{const r=JSON.stringify(s,null,2),m=new Blob([r],{type:"application/json;charset=utf-8;"}),i=document.createElement("a"),t=URL.createObjectURL(m);i.setAttribute("href",t),i.setAttribute("download",`${l}_${new Date().toISOString().split("T")[0]}.json`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},_t=s=>{const l=s.message.length>200?s.message.substring(0,200)+"...":s.message;return`${"⭐".repeat(s.rating)} Customer Love!

"${l}"

- ${s.name}${s.company?`, ${s.company}`:""}

#CustomerSuccess #Testimonial`},St=(s,l="#01004d",r="#01b79e",m="Montserrat")=>{const i=s.filter(t=>t.status==="approved").slice(0,3);return`<!-- TestiFlow Testimonials Widget -->
<div class="testimonials-widget" style="max-width: 1000px; margin: 0 auto; padding: 20px; font-family: '${m}', system-ui, sans-serif;">
  <h3 style="text-align: center; margin-bottom: 20px; color: #333; font-family: '${m}', system-ui, sans-serif;">What Our Customers Say</h3>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    ${i.map(t=>`
    <div class="testimonial-card" style="background: #f9f9f9; padding: 20px; border-radius: 12px; border-left: 4px solid ${r}; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: relative; font-family: '${m}', system-ui, sans-serif;">
      <div style="display: flex; margin-bottom: 8px;">
        ${"★".repeat(t.rating)}<span style="color: #ddd;">${"★".repeat(5-t.rating)}</span>
      </div>
      ${t.image_url?`
      <div style="margin-bottom: 12px;">
        <img src="${t.image_url}" alt="Customer photo" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover; border: 2px solid ${r};" onclick="openTestimonialModal('${t.id}', '${t.image_url}', '${t.name}', '${t.message}', ${t.rating})">
      </div>`:""}
      ${t.video_url?`
      <div style="margin-bottom: 12px; position: relative; cursor: pointer;" onclick="openTestimonialModal('${t.id}', '${t.video_url}', '${t.name}', '${t.message}', ${t.rating}, true)">
        <div style="width: 100%; height: 120px; background: linear-gradient(135deg, ${l}, ${r}); border-radius: 8px; display: flex; align-items: center; justify-content: center; position: relative;">
          <div style="background: rgba(255,255,255,0.9); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
            <span style="color: ${l}; font-size: 16px;">▶</span>
          </div>
          <div style="position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.7); color: white; padding: 2px 6px; border-radius: 4px; font-size: 10px;">
            Video Testimonial
          </div>
        </div>
      </div>`:""}
      <p style="margin: 0 0 15px 0; font-style: italic; color: #555; line-height: 1.5;">"${t.message}"</p>
      <div style="font-size: 14px; color: #777; font-family: '${m}', system-ui, sans-serif;">
        - ${t.name}${t.company?`, ${t.company}`:""}
      </div>
    </div>`).join("")}
  </div>
</div>

<!-- Modal for video/image testimonials -->
<div id="testimonial-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; font-family: '${m}', system-ui, sans-serif;">
  <div style="background: white; border-radius: 12px; max-width: 600px; width: 90%; max-height: 80%; overflow: hidden; position: relative; font-family: '${m}', system-ui, sans-serif;">
    <button onclick="closeTestimonialModal()" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; z-index: 1001;">×</button>
    <div id="modal-content" style="padding: 20px; font-family: '${m}', system-ui, sans-serif;"></div>
  </div>
</div>

<script>
function openTestimonialModal(id, mediaUrl, name, message, rating, isVideo = false) {
  const modal = document.getElementById('testimonial-modal');
  const content = document.getElementById('modal-content');
  
  const stars = '★'.repeat(rating) + '<span style="color: #ddd;">' + '★'.repeat(5 - rating) + '</span>';
  
  content.innerHTML = \`
    <div style="text-align: center;">
      \${isVideo ? 
        \`<video controls style="width: 100%; max-height: 300px; border-radius: 8px; margin-bottom: 20px;">
           <source src="\${mediaUrl}" type="video/mp4">
           Your browser does not support the video tag.
         </video>\` :
        \`<img src="\${mediaUrl}" alt="Customer photo" style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; margin: 0 auto 20px; border: 3px solid ${r};">\`
      }
      <div style="margin-bottom: 12px;">\${stars}</div>
      <p style="font-style: italic; color: #555; line-height: 1.6; margin-bottom: 16px; font-family: '${m}', system-ui, sans-serif;">"\${message}"</p>
      <div style="font-weight: 600; color: ${l}; font-family: '${m}', system-ui, sans-serif;">- \${name}</div>
    </div>
  \`;
  
  modal.style.display = 'flex';
}

function closeTestimonialModal() {
  document.getElementById('testimonial-modal').style.display = 'none';
}

// Close modal when clicking outside
document.getElementById('testimonial-modal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeTestimonialModal();
  }
});
<\/script>`},Ct=({testimonials:s,onClose:l,onSuccess:r})=>{const{user:m}=ne(),i=Me(),[t,h]=a.useState("csv"),[x,n]=a.useState([]),[y,d]=a.useState(!0),[b,_]=a.useState("approved"),[v,p]=a.useState(""),[f,g]=a.useState(!1),[N,T]=a.useState(!1),[S,k]=a.useState(null);a.useEffect(()=>{$(null,null,function*(){if(m)try{const{data:U}=yield F.from("form_branding").select("primary_color, secondary_color, font_family").eq("user_id",m.id).maybeSingle();U&&k(U)}catch(U){console.error("Error fetching branding:",U)}})},[m]),a.useEffect(()=>{n([]),d(!0)},[t]);const P=s.filter(w=>w.status==="approved"),z=b==="all"?s:s.filter(w=>w.status===b),q=y?z:z.filter(w=>x.includes(w.id));a.useEffect(()=>{d(!0),n([])},[b]);const u=x.length>0?P.filter(w=>x.includes(w.id)):P.slice(0,3),E=w=>{d(w),w||n([])},o=(w,U)=>{U?n([...x,w]):(n(x.filter(Y=>Y!==w)),d(!1))},C=()=>{switch(t){case"csv":if(q.length===0){r("Please select at least one testimonial to export");return}Nt(q),r(`Exported ${q.length} testimonials to CSV`),l();break;case"json":if(q.length===0){r("Please select at least one testimonial to export");return}wt(q),r(`Exported ${q.length} testimonials to JSON`),l();break;case"social":if(x.length!==1){r("Please select exactly one testimonial for social media post");return}const w=z.find(Y=>Y.id===x[0]);if(w){const Y=_t(w);p(Y)}break;case"widget":if(u.length===0){r("No approved testimonials available for widget");return}const U=St(u,(S==null?void 0:S.primary_color)||"#01004d",(S==null?void 0:S.secondary_color)||"#01b79e",(S==null?void 0:S.font_family)||"Montserrat");p(U);break}},O=()=>$(null,null,function*(){try{yield navigator.clipboard.writeText(v),g(!0),setTimeout(()=>g(!1),2e3)}catch(w){const U=document.createElement("textarea");U.value=v,document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U),g(!0),setTimeout(()=>g(!1),2e3)}});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Export Testimonials"}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:v?e.jsxs("div",{id:"generated-content",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t==="social"?"Social Media Post":"Website Widget Code"}),e.jsx("button",{onClick:()=>p(""),className:"text-sm text-gray-500 hover:text-gray-700",children:"← Back to Export Options"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t==="social"?"Copy this text for your social media post:":"Copy this HTML code for your website:"}),e.jsx("button",{onClick:O,className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 ${f?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:f?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono bg-white p-3 rounded border max-h-96 overflow-y-auto",children:v})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:l,className:"bg-primary-950 text-white px-6 py-2 rounded-lg hover:bg-primary-900 transition-colors",children:"Done"})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Choose Export Format"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>h("csv"),className:`w-full p-4 border rounded-lg text-left transition-colors ${t==="csv"?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"CSV Spreadsheet"}),e.jsx("div",{className:"text-sm text-gray-500",children:"For analysis in Excel/Google Sheets"})]})]})}),e.jsxs("button",{onClick:()=>h("json"),disabled:!i.limits.canUseAdvancedExports,className:`w-full p-4 border rounded-lg text-left transition-colors relative ${i.limits.canUseAdvancedExports?t==="json"?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50":"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qe,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"JSON Data"}),e.jsx("div",{className:"text-sm text-gray-500",children:"For developers and integrations"}),!i.limits.canUseAdvancedExports&&e.jsx("div",{className:"text-xs text-accent-600 font-medium",children:"Premium Feature"})]})]}),!i.limits.canUseAdvancedExports&&e.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Premium Only"})})]}),e.jsxs("button",{onClick:()=>h("widget"),disabled:!i.limits.canUseAdvancedExports,className:`w-full p-4 border rounded-lg text-left transition-colors relative ${i.limits.canUseAdvancedExports?t==="widget"?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50":"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qe,{className:"h-6 w-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Website Widget"}),e.jsx("div",{className:"text-sm text-gray-500",children:"HTML code to embed on your website"}),!i.limits.canUseAdvancedExports&&e.jsx("div",{className:"text-xs text-accent-600 font-medium",children:"Premium Feature"})]})]}),!i.limits.canUseAdvancedExports&&e.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-75 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Premium Only"})})]}),!i.limits.canUseAdvancedExports&&(t==="json"||t==="widget")&&e.jsx("div",{className:"mt-4",children:e.jsx(be,{feature:"Advanced Exports",description:"JSON exports and website widgets are available with Premium",inline:!0})})]})]}),(t==="csv"||t==="json")&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filter by Status"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"approved",label:"Approved Only",count:s.filter(w=>w.status==="approved").length},{value:"pending",label:"Pending Only",count:s.filter(w=>w.status==="pending").length},{value:"rejected",label:"Rejected Only",count:s.filter(w=>w.status==="rejected").length},{value:"all",label:"All Status",count:s.length}].map(w=>e.jsxs("button",{onClick:()=>_(w.value),className:`p-3 border rounded-lg text-left transition-colors ${b===w.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:w.label}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.count," testimonials"]})]},w.value))})]}),(t==="csv"||t==="json"||t==="social")&&z.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t==="social"?"Select a Testimonial":"Select Testimonials"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"select-all",checked:y,onChange:w=>E(w.target.checked),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500",disabled:t==="social"}),e.jsx("label",{htmlFor:"select-all",className:"text-sm text-gray-700",children:t==="social"?"Choose one testimonial":`Select All (${z.length})`})]})]}),t==="social"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"💡 Select exactly one testimonial to generate a social media post"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:z.map(w=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:t==="social"?"radio":"checkbox",name:t==="social"?"social-testimonial":void 0,checked:y||x.includes(w.id),onChange:U=>{t==="social"?(n([w.id]),d(!1)):o(w.id,U.target.checked)},className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500",disabled:y}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:w.name}),e.jsx("div",{className:"flex",children:[...Array(w.rating)].map((U,Y)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},Y))})]}),e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:['"',w.message,'"']})]})]},w.id))})]}),t==="widget"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Testimonials for Widget"}),P.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No approved testimonials available for widget"})}):e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"💡 Select specific testimonials or leave unselected to use your top 3 approved testimonials automatically"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:P.map(w=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-100 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:x.includes(w.id),onChange:U=>o(w.id,U.target.checked),className:"rounded border-gray-300 text-primary-950 focus:ring-primary-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:w.name}),e.jsx("div",{className:"flex",children:[...Array(w.rating)].map((U,Y)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},Y))}),w.video_url&&e.jsxs("div",{style:{marginBottom:"12px",position:"relative",cursor:"pointer"},children:[e.jsx("div",{style:{width:"100%",height:"80px",background:`linear-gradient(135deg, ${(S==null?void 0:S.primary_color)||"#01004d"}, ${(S==null?void 0:S.secondary_color)||"#01b79e"})`,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{background:"rgba(255,255,255,0.9)",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{color:(S==null?void 0:S.primary_color)||"#01004d",fontSize:"12px"},children:"▶"})})}),e.jsx("div",{style:{position:"absolute",bottom:"4px",left:"4px",background:"rgba(0,0,0,0.7)",color:"white",padding:"2px 4px",borderRadius:"4px",fontSize:"8px"},children:"Video"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:['"',w.message,'"']})]})]},w.id))})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Export Summary"}),e.jsx("p",{className:"text-sm text-gray-600",children:t==="widget"?`${u.length} testimonials selected for widget`:t==="social"?`${x.length} testimonial selected`:`${q.length} testimonials selected`})]}),e.jsxs("div",{className:"flex space-x-2",children:[t==="widget"&&e.jsxs("button",{onClick:()=>{T(!N),N||setTimeout(()=>{var w;(w=document.getElementById("widget-preview"))==null||w.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsxs("span",{children:[N?"Hide":"Show"," Preview"]})]}),e.jsxs("button",{onClick:C,disabled:t==="social"&&x.length!==1||(t==="csv"||t==="json")&&q.length===0||t==="widget"&&u.length===0,className:"bg-primary-950 text-white px-6 py-2 rounded-lg hover:bg-primary-900 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:t==="csv"||t==="json"?"Download":"Generate"})]})]})]})}),t==="widget"&&N&&u.length>0&&e.jsxs("div",{id:"widget-preview",className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Live Preview"}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:e.jsx("span",{className:"text-sm text-gray-600",children:"How this will look on your website:"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"20px",fontFamily:"Montserrat, system-ui, sans-serif"},children:[e.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#333"},children:"What Our Customers Say"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:u.map(w=>e.jsxs("div",{style:{background:"#f9f9f9",padding:"20px",borderRadius:"12px",borderLeft:`4px solid ${(S==null?void 0:S.secondary_color)||"#01b79e"}`,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",marginBottom:"8px"},children:["★".repeat(w.rating),e.jsx("span",{style:{color:"#ddd"},children:"★".repeat(5-w.rating)})]}),e.jsxs("p",{style:{margin:"0 0 15px 0",fontStyle:"italic",color:(S==null?void 0:S.primary_color)||"#555",lineHeight:"1.5"},children:['"',w.message,'"']}),e.jsxs("div",{style:{fontSize:"14px",color:"#777",fontWeight:"500"},children:["- ",w.name,w.company?`, ${w.company}`:""]})]},w.id))})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-700",children:"This preview shows exactly how the widget will appear on your website. Videos show as clickable thumbnails that open in a modal."})})]})]})})})]})})},kt=()=>{const{user:s}=ne(),l=Me(),[r,m]=a.useState([]),[i,t]=a.useState([]),[h,x]=a.useState([]),[n,y]=a.useState({}),[d,b]=a.useState({}),[_,v]=a.useState(!0),[p,f]=a.useState(null),[g,N]=a.useState("all"),[T,S]=a.useState("all"),[k,P]=a.useState(null),[z,q]=a.useState(null),[u,E]=a.useState(null),[o,C]=a.useState(!1),[O,w]=a.useState(null);a.useEffect(()=>{const j=V=>{const J=V.target;!J.closest(".actions-menu")&&!J.closest(".actions-button")&&q(null)};if(z)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[z]),a.useEffect(()=>{U()},[s]);const U=()=>$(null,null,function*(){if(s)try{f(null);const{data:j,error:V}=yield F.from("testimonial_forms").select("id, title").eq("user_id",s.id);if(V)throw V;t(j||[]);const{data:J,error:te}=yield F.from("testimonial_tags").select("*").eq("user_id",s.id).order("name");if(te?console.error("Error fetching tags:",te):x(J||[]),j&&j.length>0){const he=j.map(Ne=>Ne.id),{data:K,error:ge}=yield F.from("testimonials").select("*").in("form_id",he).order("submitted_at",{ascending:!1});if(ge)throw ge;if(m(K||[]),l.limits.canUseTags&&K&&K.length>0){const Ne=K.map(re=>re.id),{data:we,error:pe}=yield F.from("testimonial_tag_assignments").select(`
              testimonial_id,
              tag:testimonial_tags(id, name, color)
            `).in("testimonial_id",Ne);if(pe)console.error("Error fetching tag assignments:",pe);else if(we){const re={};we.forEach(ie=>{ie.tag&&(re[ie.testimonial_id]||(re[ie.testimonial_id]=[]),re[ie.testimonial_id].push(ie.tag))}),y(re)}}if(K&&K.length>0){const Ne=K.map(re=>re.id),{data:we,error:pe}=yield F.from("form_responses").select(`
              testimonial_id,
              field_id,
              value,
              field:form_fields(id, label, field_type)
            `).in("testimonial_id",Ne);if(pe)console.error("Error fetching responses:",pe);else if(we){const re={};we.forEach(ie=>{re[ie.testimonial_id]||(re[ie.testimonial_id]=[]),re[ie.testimonial_id].push({field_id:ie.field_id,value:ie.value,field:ie.field})}),b(re)}}}v(!1)}catch(j){console.error("Error fetching testimonials:",j),f("Failed to load testimonials"),v(!1)}}),Y=(j,V)=>$(null,null,function*(){try{const{error:J}=yield F.from("testimonials").update({status:V,reviewed_at:new Date().toISOString()}).eq("id",j);if(J)throw J;m(r.map(te=>te.id===j?I(M({},te),{status:V}):te)),q(null)}catch(J){console.error("Error updating testimonial status:",J),f("Failed to update testimonial status")}}),c=j=>$(null,null,function*(){try{const{error:V}=yield F.from("testimonials").delete().eq("id",j);if(V)throw V;m(r.filter(J=>J.id!==j)),P(null),q(null)}catch(V){console.error("Error deleting testimonial:",V),f("Failed to delete testimonial")}}),L=j=>{const V=i.find(J=>J.id===j);return(V==null?void 0:V.title)||"Unknown Form"},B=()=>{let j=r.filter(V=>g==="all"||V.status===g);return l.limits.canUseTags&&T!=="all"&&(j=j.filter(V=>(n[V.id]||[]).some(te=>te.id===T))),j},ce=()=>B().map(j=>{var V;return{id:j.id,name:j.name,email:j.email,company:j.company,message:j.message,rating:j.rating,status:j.status,submitted_at:j.submitted_at,form_title:L(j.form_id),custom_responses:(V=d[j.id])==null?void 0:V.reduce((J,te)=>(J[te.field.label]=te.value,J),{})}}),ue=j=>{const{field:V,value:J}=j;switch(V.field_type){case"rating":const te=parseInt(J)||0;return e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(K=>e.jsx(X,{className:`h-4 w-4 ${K<=te?"text-yellow-400 fill-current":"text-gray-300"}`},K)),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",te,"/5)"]})]});case"checkbox":const he=J.split(",").filter(K=>K.trim());return e.jsx("div",{className:"flex flex-wrap gap-1",children:he.map((K,ge)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:K.trim()},ge))});case"url":return e.jsx("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-sm",children:J});case"email":return e.jsx("a",{href:`mailto:${J}`,className:"text-blue-600 hover:text-blue-800 underline text-sm",children:J});default:return e.jsx("span",{className:"text-sm text-gray-700",children:J})}},Fe=B();return _?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-950"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Testimonials"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Review, approve, and manage customer testimonials"})]}),e.jsxs("div",{className:"flex space-x-2 items-center",children:[l.limits.canUseTags&&h.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vs,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:T,onChange:j=>S(j.target.value),className:"border border-gray-300 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[e.jsx("option",{value:"all",children:"All Tags"}),h.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]}),e.jsxs("select",{value:g,onChange:j=>N(j.target.value),className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("button",{onClick:()=>C(!0),className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]})]})]}),l.plan==="standard"&&l.currentUsage.testimonialCount>=20&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"You're approaching your limit"}),e.jsxs("p",{className:"text-yellow-700 text-sm",children:[l.currentUsage.testimonialCount,"/25 testimonials used. Upgrade to Premium for unlimited testimonials."]})]}),e.jsx("button",{onClick:()=>window.location.href="/get-started",className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors text-sm font-medium",children:"Manage Subscription"})]})})}),l.plan==="standard"&&l.currentUsage.testimonialCount>=25&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-medium",children:"You've reached your testimonial limit"}),e.jsx("p",{className:"text-red-700 text-sm",children:"25/25 testimonials used. New submissions will be blocked until you upgrade to Premium."})]}),e.jsx("button",{onClick:()=>window.location.href="/get-started",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Manage Subscription"})]})})}),!l.limits.canUseTags&&h.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(be,{feature:"Tag Organization",description:"You have tags created but need Premium to assign them to testimonials and use filtering.",inline:!0})}),p&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:p,onClose:()=>f(null)})}),O&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"success",message:O,onClose:()=>w(null)})}),Fe.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:g==="all"?"No testimonials yet":`No ${g} testimonials`}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:g==="all"?"Once you create and share forms, customer testimonials will appear here for review and approval.":`No testimonials with ${g} status found.`}),g==="all"&&e.jsx("button",{onClick:()=>window.location.href="/forms",className:"bg-primary-950 text-white px-6 py-3 rounded-lg hover:bg-primary-900 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Create a Form First"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Fe.map(j=>{var te,he;const V=d[j.id]||[],J=V.length>0;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-all duration-200 relative",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="approved"?"bg-secondary-100 text-secondary-800":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:j.status})}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"h-6 w-6 text-primary-950"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:j.name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),j.email]}),j.company&&e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(is,{className:"h-3 w-3 mr-1"}),j.company]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(j.rating)].map((K,ge)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},ge))}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",j.rating,"/5)"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3",children:['"',j.message,'"']}),(j.image_url||j.video_url)&&e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[j.image_url&&e.jsxs("div",{className:"flex items-center space-x-1 bg-blue-50 text-blue-700 px-2 py-1 rounded-full text-xs",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:"Image"})]}),j.video_url&&e.jsxs("div",{className:"flex items-center space-x-1 bg-purple-50 text-purple-700 px-2 py-1 rounded-full text-xs",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:"Video"})]})]})]}),J&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"text-xs text-blue-800 font-medium",children:["+",V.length," additional response",V.length!==1?"s":""]})})}),l.limits.canUseTags?((te=n[j.id])==null?void 0:te.length)>0&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:n[j.id].map(K=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${K.color}20`,border:`1px solid ${K.color}`,color:K.color},children:K.name},K.id))})}):((he=n[j.id])==null?void 0:he.length)>0&&e.jsx("div",{className:"mb-4",children:e.jsx(be,{feature:"Tag Organization",description:"Upgrade to Premium to organize testimonials with tags",inline:!0})}),e.jsxs("div",{className:"text-xs text-gray-500 mb-4 space-y-1",children:[e.jsxs("div",{children:["From: ",L(j.form_id)]}),e.jsxs("div",{children:["Submitted: ",new Date(j.submitted_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>E(j),className:"text-primary-950 hover:text-primary-800 text-sm font-medium flex items-center space-x-1 transition-colors",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"View Full"})]}),e.jsxs("div",{className:"flex space-x-2",children:[j.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Y(j.id,"approved"),className:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200 px-3 py-1 rounded-md text-xs font-medium transition-colors",children:"Approve"}),e.jsx("button",{onClick:()=>Y(j.id,"rejected"),className:"bg-red-100 text-red-800 hover:bg-red-200 px-3 py-1 rounded-md text-xs font-medium transition-colors",children:"Reject"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"actions-button p-1 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>q(z===j.id?null:j.id),children:e.jsx(Gs,{className:"h-4 w-4"})}),z===j.id&&e.jsx("div",{className:"actions-menu absolute right-0 bottom-8 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-40",children:e.jsxs("div",{className:"py-1",children:[j.status!=="approved"&&e.jsxs("button",{onClick:()=>Y(j.id,"approved"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-secondary-50 hover:text-secondary-700 flex items-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve"})]}),j.status!=="rejected"&&e.jsxs("button",{onClick:()=>Y(j.id,"rejected"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),j.status!=="pending"&&e.jsxs("button",{onClick:()=>Y(j.id,"pending"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-yellow-50 hover:text-yellow-700 flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:"Mark as Pending"})]}),e.jsx("hr",{className:"my-1"}),e.jsxs("button",{onClick:()=>{P(j),q(null)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Delete"})]})]})})]})]})]})]},j.id)})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>E(null),children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Testimonial Details"}),e.jsx("button",{onClick:()=>E(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"h-8 w-8 text-primary-950"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xl font-semibold text-gray-900",children:u.name}),e.jsxs("div",{className:"text-gray-600 flex items-center space-x-1",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:u.email})]}),u.company&&e.jsxs("div",{className:"text-gray-600 flex items-center space-x-1",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:u.company})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="approved"?"bg-secondary-100 text-secondary-800":u.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:u.status})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:[...Array(u.rating)].map((j,V)=>e.jsx(X,{className:"h-6 w-6 text-yellow-400 fill-current"},V))}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["(",u.rating,"/5)"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Testimonial"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("p",{className:"text-gray-800 leading-relaxed italic",children:['"',u.message,'"']})})]}),(u.image_url||u.video_url)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Media"}),e.jsxs("div",{className:"space-y-4",children:[u.image_url&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Image"}),e.jsx("img",{src:u.image_url,alt:"Testimonial",className:"w-full max-w-md rounded-lg border border-gray-200 shadow-sm"})]}),u.video_url&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Video"}),e.jsx("video",{src:u.video_url,className:"w-full max-w-md rounded-lg border border-gray-200 shadow-sm",controls:!0})]})]})]}),d[u.id]&&d[u.id].length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Additional Responses"}),e.jsx("div",{className:"space-y-4",children:d[u.id].map(j=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:j.field.label}),e.jsx("div",{children:ue(j)})]},j.field_id))})]}),l.limits.canUseTags&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Tags"}),h.length===0?e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"No tags available."}),e.jsx("a",{href:"/tags",className:"text-yellow-900 underline hover:text-yellow-700 ml-1",children:"Create tags first"})," to organize testimonials."]})}):e.jsx(vt,{testimonialId:u.id,onTagsChange:U})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Form:"}),e.jsx("div",{className:"font-medium text-gray-900",children:L(u.form_id)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Submitted:"}),e.jsx("div",{className:"font-medium text-gray-900",children:new Date(u.submitted_at).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[u.status!=="approved"&&e.jsxs("button",{onClick:()=>{Y(u.id,"approved"),E(null)},className:"flex-1 bg-secondary-500 text-white py-3 px-4 rounded-lg hover:bg-secondary-600 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve"})]}),u.status!=="rejected"&&e.jsxs("button",{onClick:()=>{Y(u.id,"rejected"),E(null)},className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),u.status!=="pending"&&e.jsxs("button",{onClick:()=>{Y(u.id,"pending"),E(null)},className:"flex-1 bg-gray-500 text-white py-3 px-4 rounded-lg hover:bg-gray-600 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:"Mark as Pending"})]})]})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete Testimonial"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete the testimonial from ",e.jsx("strong",{children:k.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex",children:[...Array(k.rating)].map((j,V)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},V))}),e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",k.name]})]}),e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',k.message,'"']})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>c(k.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors font-medium",children:"Delete Testimonial"}),e.jsx("button",{onClick:()=>P(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]})}),o&&e.jsx(Ct,{testimonials:ce(),onClose:()=>C(!1),onSuccess:j=>{w(j),C(!1)}})]})})})})},fs=()=>({sendNewTestimonialNotification:(i,t,h)=>$(null,null,function*(){try{const{error:x}=yield F.functions.invoke("send-notification",{body:{type:"new_testimonial",data:{testimonial:i,form_title:t,user_id:h}}});if(x)throw console.error("Error sending new testimonial notification:",x),x;console.log("New testimonial notification sent successfully")}catch(x){throw console.error("Failed to send new testimonial notification:",x),x}}),sendFollowUpEmail:(i,t,h,x)=>$(null,null,function*(){try{const{error:n}=yield F.functions.invoke("send-notification",{body:{type:"follow_up",data:{customer_email:i,customer_name:t,form_url:h,form_title:x}}});if(n)throw console.error("Error sending follow-up email:",n),n;console.log("Follow-up email sent successfully")}catch(n){throw console.error("Failed to send follow-up email:",n),n}}),sendTrialEndingNotification:(i,t,h)=>$(null,null,function*(){try{const{error:x}=yield F.functions.invoke("send-notification",{body:{type:"trial_ending",data:{user_email:i,days_left:t,charge_date:h}}});if(x)throw console.error("Error sending trial ending notification:",x),x;console.log("Trial ending notification sent successfully")}catch(x){throw console.error("Failed to send trial ending notification:",x),x}}),sendPaymentFailureNotification:(i,t)=>$(null,null,function*(){try{const{error:h}=yield F.functions.invoke("send-notification",{body:{type:"payment_failure",data:{user_email:i,grace_period_end:t}}});if(h)throw console.error("Error sending payment failure notification:",h),h;console.log("Payment failure notification sent successfully")}catch(h){throw console.error("Failed to send payment failure notification:",h),h}})}),Tt=()=>{const{formId:s}=Ps(),{sendNewTestimonialNotification:l}=fs(),[r,m]=a.useState(null),[i,t]=a.useState(null),[h,x]=a.useState([]),[n,y]=a.useState(!0),[d,b]=a.useState(!1),[_,v]=a.useState(!1),[p,f]=a.useState(null),[g,N]=a.useState(""),[T,S]=a.useState(""),[k,P]=a.useState(""),[z,q]=a.useState(""),[u,E]=a.useState(0),[o,C]=a.useState(0),[O,w]=a.useState({}),[U,Y]=a.useState(null),[c,L]=a.useState(null),[B,ce]=a.useState(null),[ue,Fe]=a.useState(null),[j,V]=a.useState(!1);a.useEffect(()=>{$(null,null,function*(){if(!s){f("Invalid form ID"),y(!1);return}try{const R=F,{data:W,error:H}=yield R.from("testimonial_forms").select("*").eq("id",s).eq("is_active",!0).single();if(H)H.code==="PGRST116"?(console.log("No form found with ID:",s),f("Form not found or inactive")):(console.error("Supabase error:",H),f("Failed to load form"));else if(!W)console.log("No form found with ID:",s),f("Form not found or inactive");else{console.log("Form loaded successfully:",W),m(W);const{data:Q}=yield R.from("form_branding").select("*").eq("user_id",W.user_id).maybeSingle();Q&&t(Q);const{data:G}=yield R.from("form_fields").select("*").eq("form_id",W.id).order("sort_order",{ascending:!0});G&&x(G)}}catch(R){console.error("Error fetching form:",R),f("Failed to load form")}finally{y(!1)}})},[s]);const J=A=>{var Q;const R=(Q=A.target.files)==null?void 0:Q[0];if(!R)return;if(!R.type.startsWith("image/")){f("Please select an image file");return}const W=(r==null?void 0:r.max_image_size_mb)||10;if(R.size>W*1024*1024){f(`Image must be smaller than ${W}MB`);return}Y(R);const H=new FileReader;H.onload=G=>{var ee;ce((ee=G.target)==null?void 0:ee.result)},H.readAsDataURL(R)},te=A=>{var Q;const R=(Q=A.target.files)==null?void 0:Q[0];if(!R)return;if(!R.type.startsWith("video/")){f("Please select a video file");return}const W=(r==null?void 0:r.max_video_size_mb)||100;if(R.size>W*1024*1024){f(`Video must be smaller than ${W}MB`);return}L(R);const H=new FileReader;H.onload=G=>{var ee;Fe((ee=G.target)==null?void 0:ee.result)},H.readAsDataURL(R)},he=()=>{Y(null),ce(null)},K=()=>{L(null),Fe(null)},ge=()=>$(null,null,function*(){const A={};if(U){V(!0);try{const R=new FileReader,W=yield new Promise((H,Q)=>{R.onload=()=>H(R.result),R.onerror=Q,R.readAsDataURL(U)});A.image_url=W}catch(R){throw console.error("Error processing image:",R),new Error("Failed to process image")}}if(c){V(!0);try{const R=new FileReader,W=yield new Promise((H,Q)=>{R.onload=()=>H(R.result),R.onerror=Q,R.readAsDataURL(c)});A.video_url=W}catch(R){throw console.error("Error processing video:",R),new Error("Failed to process video")}}return V(!1),A}),Ne=A=>$(null,null,function*(){var R;if(A.preventDefault(),!r||u===0){f("Please provide a rating before submitting");return}try{const{data:W}=yield F.from("stripe_customers").select("customer_id").eq("user_id",r.user_id).maybeSingle();if(W){const{data:H}=yield F.from("stripe_subscriptions").select("price_id, status").eq("customer_id",W.customer_id).maybeSingle();if((H==null?void 0:H.price_id)==="price_1Rznb5Dn6VTzl81bjqFfCagv"){const{data:Q}=yield F.from("testimonial_forms").select("id").eq("user_id",r.user_id);if(Q&&Q.length>0){const G=Q.map(fe=>fe.id),{count:ee}=yield F.from("testimonials").select("*",{count:"exact",head:!0}).in("form_id",G);if(ee&&ee>=25){f("This form has reached its testimonial limit. Please contact the form owner.");return}}}}}catch(W){console.error("Error checking testimonial limits:",W)}for(const W of h)if(W.is_required&&!((R=O[W.id])!=null&&R.trim())){f(`Please fill in the required field: ${W.label}`);return}b(!0),f(null);try{const W=yield ge(),{data:H,error:Q}=yield F.from("testimonials").insert([{form_id:r.id,name:g,email:T,company:k||null,message:z,rating:u,status:"pending",image_url:W.image_url||null,video_url:W.video_url||null}]).select().single();if((Q||!H)&&(Q&&Q.code==="PGRST116"?(console.log("No form found with ID:",s),f("Form not found or inactive")):(console.error("Supabase error:",Q),f("Failed to load form"))),h.length>0){const G=h.filter(ee=>{var fe;return(fe=O[ee.id])==null?void 0:fe.trim()}).map(ee=>({testimonial_id:H.id,field_id:ee.id,value:O[ee.id]}));if(G.length>0){const{error:ee}=yield F.from("form_responses").insert(G);ee&&console.error("Error saving custom responses:",ee)}}try{yield l({name:g,company:k||void 0,rating:u,message:z},r.title,r.user_id)}catch(G){console.error("Failed to send email notification:",G)}console.log("Testimonial submitted successfully"),v(!0)}catch(W){console.error("Error submitting testimonial:",W),f("Failed to submit testimonial. Please try again.")}finally{b(!1)}});if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-950"})});if(p)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-xl mb-4",children:p}),e.jsx("p",{className:"text-gray-600",children:"Please check the form link and try again."})]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-xl mb-4",children:"Form not found"}),e.jsx("p",{className:"text-gray-600",children:"This form may have been deactivated or removed."})]})});if(_)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center bg-white p-8 rounded-lg shadow-lg",children:[e.jsx(xe,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600",children:r.thank_you_message})]})});const we=(i==null?void 0:i.primary_color)||"#01004d",pe=(i==null?void 0:i.secondary_color)||"#01b79e",re=(i==null?void 0:i.font_family)||"Montserrat",ie=i==null?void 0:i.logo_url,ys=A=>{const R=O[A.id]||"",W=H=>{w(Q=>I(M({},Q),{[A.id]:H}))};switch(A.field_type){case"text":case"email":case"url":return e.jsxs("div",{children:[e.jsx("input",{type:A.field_type,value:R,onChange:G=>W(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:A.placeholder,required:A.is_required}),A.field_type==="url"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please include http:// or https:// (e.g., https://www.example.com)"})]});case"textarea":return e.jsx("textarea",{value:R,onChange:G=>W(G.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:A.placeholder,required:A.is_required});case"select":return e.jsxs("select",{value:R,onChange:G=>W(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:A.is_required,children:[e.jsx("option",{value:"",children:"Select an option..."}),A.options.map((G,ee)=>e.jsx("option",{value:G,children:G},ee))]});case"radio":return e.jsx("div",{className:"space-y-2",children:A.options.map((G,ee)=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:A.id,value:G,checked:R===G,onChange:fe=>W(fe.target.value),className:"text-primary-500 focus:ring-primary-500",required:A.is_required}),e.jsx("span",{className:"text-sm text-gray-700",children:G})]},ee))});case"checkbox":const H=R?R.split(","):[];return e.jsx("div",{className:"space-y-2",children:A.options.map((G,ee)=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:H.includes(G),onChange:fe=>{fe.target.checked?W([...H,G].join(",")):W(H.filter(bs=>bs!==G).join(","))},className:"text-primary-500 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:G})]},ee))});case"rating":const Q=parseInt(R)||0;return e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(G=>e.jsx("button",{type:"button",onClick:()=>W(G.toString()),className:"p-1 transition-colors",children:e.jsx(X,{className:`h-6 w-6 ${G<=Q?"text-yellow-400 fill-current":"text-gray-300"}`})},G))});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",style:{fontFamily:re},children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-8 text-center text-white",style:{backgroundColor:we},children:[e.jsx("div",{className:"flex justify-center mb-4",children:ie?e.jsx("img",{src:ie,alt:"Logo",className:"h-8 max-w-32 object-contain",onError:A=>{var W;A.currentTarget.style.display="none";const R=document.createElement("div");R.innerHTML='<svg class="h-8 w-8 text-white" viewBox="0 0 32 32" fill="currentColor"><circle cx="16" cy="16" r="14" fill="currentColor"/></svg>',(W=A.currentTarget.parentNode)==null||W.appendChild(R)}}):e.jsx(oe,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:r.title}),e.jsx("p",{className:"text-white/90",children:r.description})]}),e.jsxs("div",{className:"p-6",children:[p&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-800",children:p})}),e.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How would you rate your experience? *"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(A=>e.jsx("button",{type:"button",onClick:()=>E(A),onMouseEnter:()=>C(A),onMouseLeave:()=>C(0),className:"p-1 transition-colors",children:e.jsx(X,{className:`h-8 w-8 ${A<=(o||u)?"text-yellow-400 fill-current":"text-gray-300"}`})},A))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),e.jsx("input",{type:"text",id:"name",required:!0,value:g,onChange:A=>N(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",required:!0,value:T,onChange:A=>S(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company (Optional)"}),e.jsx("input",{type:"text",id:"company",value:k,onChange:A=>P(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your company name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Testimonial *"}),e.jsx("textarea",{id:"message",required:!0,rows:4,value:z,onChange:A=>q(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2",style:{"--tw-ring-color":pe,fontFamily:re},placeholder:"Tell us about your experience..."})]}),h.map(A=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.label,A.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ys(A)]},A.id)),(r.allow_image_uploads||r.allow_video_uploads)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Media (Optional)"}),r.allow_image_uploads&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image"}),B?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),e.jsx("button",{type:"button",onClick:he,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:e.jsx(le,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Js,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload an image"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["PNG, JPG, GIF up to ",r.max_image_size_mb||10,"MB"]})]})]})]}),r.allow_video_uploads&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Video"}),ue?e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:ue,className:"w-full h-48 object-cover rounded-lg border border-gray-300",controls:!0}),e.jsx("button",{type:"button",onClick:K,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:e.jsx(le,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"video/*",onChange:te,className:"hidden",id:"video-upload"}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[e.jsx(Hs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload a video"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"MP4, MOV, AVI up to 100MB"})]})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:d||u===0||j,className:"w-full text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:pe,fontFamily:re},onMouseEnter:A=>{!d&&u>0&&!j&&(A.currentTarget.style.opacity="0.9")},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},children:d||j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:j?"Processing media...":"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{children:"Submit Testimonial"})]})})})]})]})]})})})},Ft=[{value:"Montserrat",label:"Montserrat (Default)"},{value:"Inter",label:"Inter"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Lato",label:"Lato"},{value:"Poppins",label:"Poppins"},{value:"Source Sans Pro",label:"Source Sans Pro"}],Et=[{name:"TestiFlow Default",primary:"#01004d",secondary:"#01b79e"},{name:"Ocean Blue",primary:"#0066cc",secondary:"#00a8ff"},{name:"Forest Green",primary:"#2d5a27",secondary:"#4caf50"},{name:"Sunset Orange",primary:"#e65100",secondary:"#ff9800"},{name:"Royal Purple",primary:"#4a148c",secondary:"#9c27b0"},{name:"Crimson Red",primary:"#b71c1c",secondary:"#f44336"}],Pt=()=>{const{user:s}=ne(),l=Me(),[,r]=a.useState(null),[m,i]=a.useState(!0),[t,h]=a.useState(!1),[x,n]=a.useState(null),[y,d]=a.useState(null),[b,_]=a.useState(""),[v,p]=a.useState(!1),[f,g]=a.useState("#01004d"),[N,T]=a.useState("#01b79e"),[S,k]=a.useState("Montserrat");a.useEffect(()=>{P()},[s]);const P=()=>$(null,null,function*(){if(s)try{const{data:o,error:C}=yield F.from("form_branding").select("*").eq("user_id",s.id).maybeSingle();if(C&&C.code!=="PGRST116")throw C;o&&(r(o),_(o.logo_url||""),g(o.primary_color),T(o.secondary_color),k(o.font_family)),i(!1)}catch(o){console.error("Error fetching branding:",o),n("Failed to load branding settings"),i(!1)}}),z=o=>$(null,null,function*(){if(o.preventDefault(),!!s){h(!0),n(null),d(null);try{const C={user_id:s.id,logo_url:b.trim()||null,primary_color:f,secondary_color:N,font_family:S};console.log("Saving branding data:",I(M({},C),{logo_url:C.logo_url?`${C.logo_url.substring(0,50)}...`:null}));const{data:O,error:w}=yield F.from("form_branding").upsert(C,{onConflict:"user_id"}).select().single();if(w)throw w;console.log("Branding saved successfully:",I(M({},O),{logo_url:O.logo_url?`${O.logo_url.substring(0,50)}...`:null})),r(O),d("Branding settings saved successfully!")}catch(C){console.error("Error saving branding:",C),n("Failed to save branding settings")}finally{h(!1)}}}),q=()=>{_(""),g("#01004d"),T("#01b79e"),k("Montserrat")},u=o=>{g(o.primary),T(o.secondary)},E=o=>$(null,null,function*(){var O;const C=(O=o.target.files)==null?void 0:O[0];if(C){if(!C.type.startsWith("image/")){n("Please select an image file");return}if(C.size>2*1024*1024){n("Image must be smaller than 2MB");return}p(!0),n(null);try{const w=new FileReader;w.onload=U=>{var c;const Y=(c=U.target)==null?void 0:c.result;_(Y),p(!1)},w.onerror=()=>{n("Failed to process image"),p(!1)},w.readAsDataURL(C)}catch(w){n("Failed to upload image"),p(!1)}}});return m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-950"})}):l.limits.canUseBranding?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Form Branding"}),e.jsx("p",{className:"text-gray-600",children:"Customize the appearance of your testimonial collection forms"})]}),x&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:x,onClose:()=>n(null)})}),y&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"success",message:y,onClose:()=>d(null)})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"url",value:b,onChange:o=>_(o.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://example.com/logo.png"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:v}),e.jsx("button",{type:"button",disabled:v,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zs,{className:"h-4 w-4"}),e.jsx("span",{children:"Upload"})]})})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a URL or upload an image file (PNG, JPG, or SVG recommended, max 2MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Color Presets"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Et.map(o=>e.jsxs("button",{type:"button",onClick:()=>u(o),className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:o.primary}}),e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:o.secondary}})]}),e.jsx("span",{className:"text-sm text-gray-700",children:o.name})]},o.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx("input",{type:"color",value:f,onChange:o=>g(o.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),e.jsx("input",{type:"text",value:f,onChange:o=>g(o.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"#01004d"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for headers and primary buttons"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx("input",{type:"color",value:N,onChange:o=>T(o.target.value),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),e.jsx("input",{type:"text",value:N,onChange:o=>T(o.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"#01b79e"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for accents and highlights"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),e.jsx("select",{value:S,onChange:o=>k(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:Ft.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-primary-950 text-white py-3 px-4 rounded-lg hover:bg-primary-900 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Changes"})]})}),e.jsxs("button",{type:"button",onClick:q,className:"px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsx("span",{children:"Reset"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(de,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Live Preview"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"px-6 py-8 text-center text-white",style:{backgroundColor:f,fontFamily:S},children:[b&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:b,alt:"Logo",className:"h-12 max-w-48 object-contain",onError:o=>{o.currentTarget.style.display="none"}})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Share Your Experience"}),e.jsx("p",{className:"text-white/90",children:"We'd love to hear about your experience with us!"})]}),e.jsxs("div",{className:"p-6 space-y-6",style:{fontFamily:S},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How would you rate your experience? *"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(o=>e.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),e.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500",children:"John Smith"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Testimonial *"}),e.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500 h-20 flex items-start",children:e.jsx("span",{className:"text-sm",children:"This product has been amazing for our business..."})})]}),e.jsx("button",{type:"button",className:"w-full py-3 px-6 rounded-lg font-semibold text-white transition-colors",style:{backgroundColor:N,fontFamily:S},children:"Submit Testimonial"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Color Palette"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg border border-gray-300 mb-2",style:{backgroundColor:f}}),e.jsx("div",{className:"text-xs text-gray-600",children:"Primary"}),e.jsx("div",{className:"text-xs font-mono text-gray-500",children:f})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg border border-gray-300 mb-2",style:{backgroundColor:N}}),e.jsx("div",{className:"text-xs text-gray-600",children:"Secondary"}),e.jsx("div",{className:"text-xs font-mono text-gray-500",children:N})]})]})]})]})]})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Form Branding"}),e.jsx("p",{className:"text-gray-600",children:"Customize the appearance of your testimonial collection forms"})]}),e.jsx(be,{feature:"Custom Branding",description:"Customize your forms with your logo, brand colors, and fonts to create a professional experience that matches your brand identity."})]})})})})},ze=[{id:"create-form",title:"Create Forms",description:"Setting up testimonial collection forms",duration:6e3},{id:"custom-fields",title:"Add Custom Fields",description:"Adding custom questions to the form",duration:7e3},{id:"customer-submission",title:"Customer Fills Form",description:"Customer submitting their testimonial",duration:6e3},{id:"testimonials-approval",title:"Review & Approve",description:"Managing testimonials in the dashboard",duration:6e3},{id:"export-use",title:"Export & Use",description:"Using testimonials in your marketing",duration:7e3}],He=[{id:"1",name:"Sarah Johnson",email:"sarah@techcorp.com",company:"TechCorp",message:"TestiFlow has completely transformed how we collect customer feedback. The automated workflows save us hours every week!",rating:5,status:"approved",submitted_at:"2025-01-15T10:30:00Z",form_title:"Customer Experience Survey"},{id:"2",name:"Mike Chen",email:"mike@startup.com",company:"StartupXYZ",message:"Amazing product! The testimonial management features are exactly what we needed for our marketing campaigns.",rating:5,status:"approved",submitted_at:"2025-01-14T14:20:00Z",form_title:"Customer Experience Survey"},{id:"3",name:"Emily Davis",email:"emily@growth.com",company:"GrowthCo",message:"The export features are incredible. We can now easily use testimonials across all our marketing channels.",rating:4,status:"approved",submitted_at:"2025-01-13T09:15:00Z",form_title:"Customer Experience Survey"}],$t=()=>{const[s,l]=a.useState(0),[r,m]=a.useState(!1),[i,t]=a.useState({title:"",description:"",thank_you_message:""}),[h,x]=a.useState(null),[n,y]=a.useState(!1),[d,b]=a.useState([]),[_,v]=a.useState(!1),[p,f]=a.useState({field_type:"select",label:"",options:[""]}),[g,N]=a.useState({name:"",email:"",company:"",message:"",rating:0,role:"",industry:""}),[T,S]=a.useState([]),[k,P]=a.useState(!1),[z,q]=a.useState("csv"),[u,E]=a.useState(""),[o,C]=a.useState(null);a.useEffect(()=>{const c=setTimeout(()=>{s<ze.length-1?l(L=>L+1):(l(0),O())},ze[s].duration);return()=>clearTimeout(c)},[s]);const O=()=>{m(!1),t({title:"",description:"",thank_you_message:""}),x(null),y(!1),b([]),v(!1),f({field_type:"select",label:"",options:[""]}),N({name:"",email:"",company:"",message:"",rating:0,role:"",industry:""}),S([]),P(!1),E(""),C(null)},w=()=>`<div class="testimonials-widget" style="max-width: 1000px; margin: 0 auto; padding: 20px; font-family: 'Montserrat', system-ui, sans-serif;">
  <h3 style="text-align: center; margin-bottom: 20px; color: #333; font-family: 'Montserrat', system-ui, sans-serif;">What Our Customers Say</h3>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    ${He.slice(0,3).map(c=>`
    <div style="background: #f9f9f9; padding: 20px; border-radius: 12px; border-left: 4px solid #01b79e; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-family: 'Montserrat', system-ui, sans-serif;">
      <div style="display: flex; margin-bottom: 8px;">
        ${"★".repeat(c.rating)}<span style="color: #ddd;">${"★".repeat(5-c.rating)}</span>
      </div>
      <p style="margin: 0 0 15px 0; font-style: italic; color: #555; line-height: 1.5;">"${c.message}"</p>
      <div style="font-size: 14px; color: #777; font-family: 'Montserrat', system-ui, sans-serif;">
        - ${c.name}${c.company?`, ${c.company}`:""}
      </div>
    </div>`).join("")}
  </div>
</div>`;a.useEffect(()=>{if(O(),s===0)setTimeout(()=>m(!0),500),setTimeout(()=>t({title:"Share Your Experience with TechCorp",description:"We'd love to hear about your experience with our software solutions!",thank_you_message:"Thank you for taking the time to share your feedback!"}),1500),setTimeout(()=>{m(!1),x({id:"1",title:"Share Your Experience with TechCorp",description:"We'd love to hear about your experience with our software solutions!",is_active:!0,created_at:new Date().toISOString()})},4500);else if(s===1)x({id:"1",title:"Share Your Experience with TechCorp",description:"We'd love to hear about your experience with our software solutions!",is_active:!0,created_at:new Date().toISOString()}),setTimeout(()=>y(!0),500),setTimeout(()=>v(!0),1e3),setTimeout(()=>f({field_type:"select",label:"What is your role?",options:["CEO/Founder","CTO","Marketing Manager","Operations Manager"]}),2e3),setTimeout(()=>{v(!1),b([{id:"1",field_type:"select",label:"What is your role?",options:["CEO/Founder","CTO","Marketing Manager","Operations Manager"],is_required:!0}])},3500),setTimeout(()=>v(!0),4e3),setTimeout(()=>f({field_type:"select",label:"What industry are you in?",options:["Technology","Healthcare","Finance","E-commerce","Consulting"]}),4500),setTimeout(()=>{v(!1),b(c=>[...c,{id:"2",field_type:"select",label:"What industry are you in?",options:["Technology","Healthcare","Finance","E-commerce","Consulting"],is_required:!1}])},6e3);else if(s===2)b([{id:"1",field_type:"select",label:"What is your role?",options:["CEO/Founder","CTO","Marketing Manager","Operations Manager"],is_required:!0},{id:"2",field_type:"select",label:"What industry are you in?",options:["Technology","Healthcare","Finance","E-commerce","Consulting"],is_required:!1}]),setTimeout(()=>N(c=>I(M({},c),{rating:5})),500),setTimeout(()=>N(c=>I(M({},c),{name:"Sarah Johnson"})),1e3),setTimeout(()=>N(c=>I(M({},c),{email:"sarah@techcorp.com"})),1500),setTimeout(()=>N(c=>I(M({},c),{company:"TechCorp Solutions"})),2e3),setTimeout(()=>N(c=>I(M({},c),{role:"CTO"})),2500),setTimeout(()=>N(c=>I(M({},c),{industry:"Technology"})),3e3),setTimeout(()=>N(c=>I(M({},c),{message:"TestiFlow has completely transformed how we collect and manage customer feedback. The automated workflows save us hours every week and the interface is so intuitive!"})),3500);else if(s===3){const c=[{id:"1",name:"Sarah Johnson",email:"sarah@techcorp.com",company:"TechCorp Solutions",message:"TestiFlow has completely transformed how we collect and manage customer feedback. The automated workflows save us hours every week!",rating:5,status:"pending",submitted_at:new Date().toISOString(),form_id:"1",custom_responses:{"What is your role?":"CTO","What industry are you in?":"Technology"}},{id:"2",name:"Mike Chen",email:"mike@startupxyz.com",company:"StartupXYZ",message:"Amazing product! The testimonial management features are exactly what we needed for our marketing campaigns.",rating:5,status:"approved",submitted_at:new Date(Date.now()-864e5).toISOString(),form_id:"1"},{id:"3",name:"Emily Davis",email:"emily@growth.com",company:"GrowthCo",message:"The export features are incredible. We can now easily use testimonials across all our marketing channels.",rating:4,status:"pending",submitted_at:new Date(Date.now()-1728e5).toISOString(),form_id:"1"}];S(c),setTimeout(()=>{C("1")},1e3),setTimeout(()=>{S(L=>L.map(B=>B.id==="1"?I(M({},B),{status:"approved"}):B)),C(null)},2500),setTimeout(()=>{C("3")},3500),setTimeout(()=>{S(L=>L.map(B=>B.id==="3"?I(M({},B),{status:"approved"}):B)),C(null)},5e3)}else s===4&&(S(He),setTimeout(()=>P(!0),1e3),setTimeout(()=>{q("widget")},2500),setTimeout(()=>{E(w())},4e3))},[s]);const U=()=>{switch(s){case 0:case 1:return"forms";case 2:return"submit";case 3:case 4:return"testimonials";default:return"dashboard"}},Y=()=>s===2?e.jsx("div",{className:"bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-6 text-center text-white bg-primary-950",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(oe,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Share Your Experience with TechCorp"}),e.jsx("p",{className:"text-white/90 text-sm",children:"We'd love to hear about your experience with our software solutions!"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How would you rate your experience? *"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(c=>e.jsx(X,{className:`h-6 w-6 ${c<=g.rating?"text-yellow-400 fill-current":"text-gray-300"}`},c))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),e.jsx("input",{type:"text",value:g.name,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",value:g.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company (Optional)"}),e.jsx("input",{type:"text",value:g.company,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),d.map(c=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c.label,c.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{value:c.id==="1"?g.role:g.industry,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!0,children:[e.jsx("option",{value:"",children:"Select an option..."}),c.options.map((L,B)=>e.jsx("option",{value:L,children:L},B))]})]},c.id)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Testimonial *"}),e.jsx("textarea",{rows:3,value:g.message,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("button",{type:"submit",className:"w-full bg-secondary-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-secondary-600 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{children:"Submit Testimonial"})]})]})})]})})}):e.jsx("div",{className:"bg-gray-50 py-6",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:U()==="forms"?"Forms":"Testimonials"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:U()==="forms"?"Create and manage testimonial collection forms":"Review, approve, and manage customer testimonials"})]}),U()==="forms"&&e.jsxs("button",{onClick:()=>m(!0),className:`bg-primary-950 text-white px-4 py-2 rounded-lg hover:bg-primary-900 transition-all duration-200 flex items-center space-x-2 font-medium shadow-lg ${s===0?"ring-4 ring-primary-200 animate-pulse":""}`,children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"New Form"})]}),U()==="testimonials"&&e.jsxs("button",{onClick:()=>P(!0),className:`border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2 ${s===4?"ring-4 ring-blue-200 animate-pulse":""}`,children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:U()==="forms"?e.jsx(e.Fragment,{children:h?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all duration-200 animate-slide-in",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 leading-tight",children:h.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h.description})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>y(!0),className:`text-primary-950 hover:text-primary-800 text-sm font-medium flex items-center space-x-1 transition-colors ${s===1?"ring-2 ring-primary-200 rounded px-2 py-1":""}`,children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Custom Fields"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"bg-blue-50 text-blue-600 hover:bg-blue-100 px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",children:[e.jsx(Re,{className:"h-3 w-3"}),e.jsx("span",{children:"Copy"})]}),e.jsxs("button",{className:"bg-gray-50 text-gray-600 hover:bg-gray-100 px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",children:[e.jsx(Qe,{className:"h-3 w-3"}),e.jsx("span",{children:"Preview"})]})]})]})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ae,{className:"h-8 w-8 text-primary-950"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Create Your First Form"}),e.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Start gathering customer testimonials by creating a customized form."})]})}):e.jsx("div",{className:"space-y-4",children:T.map(c=>e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all duration-200 ${o===c.id?"ring-4 ring-secondary-200 shadow-lg scale-105":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"h-4 w-4 text-primary-950"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:c.name}),e.jsx("div",{className:"text-xs text-gray-500",children:c.company})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.status==="approved"?"bg-secondary-100 text-secondary-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"flex",children:[...Array(c.rating)].map((L,B)=>e.jsx(X,{className:"h-4 w-4 text-yellow-400 fill-current"},B))}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",c.rating,"/5)"]})]}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:['"',c.message,'"']}),e.jsx("div",{className:"flex items-center justify-end",children:c.status==="pending"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200 px-3 py-1 rounded-md text-xs font-medium transition-colors",children:"Approve"}),e.jsx("button",{className:"bg-red-100 text-red-800 hover:bg-red-200 px-3 py-1 rounded-md text-xs font-medium transition-colors",children:"Reject"})]})})]},c.id))})}),e.jsxs("div",{className:"lg:col-span-1",children:[r&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-lg animate-slide-in",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Create New Form"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Form Title"}),e.jsx("input",{type:"text",value:i.title,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:i.description,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thank You Message"}),e.jsx("input",{type:"text",value:i.thank_you_message,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",readOnly:!0})]}),e.jsxs("div",{className:"flex space-x-2 pt-3",children:[e.jsx("button",{className:"flex-1 bg-primary-950 text-white py-2 px-3 rounded-md font-medium text-sm",children:"Create Form"}),e.jsx("button",{className:"flex-1 bg-gray-300 text-gray-700 py-2 px-3 rounded-md font-medium text-sm",children:"Cancel"})]})]})]}),n&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-lg animate-slide-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Custom Fields"}),e.jsxs("button",{className:"bg-primary-950 text-white px-3 py-1 rounded-md text-sm flex items-center space-x-1",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Add"})]})]}),_&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 animate-slide-in",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Adding New Field"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:p.label,className:"w-full px-2 py-1 border border-blue-300 rounded text-sm",readOnly:!0}),e.jsxs("div",{className:"text-xs text-blue-700",children:["Type: ",p.field_type]})]})]}),e.jsx("div",{className:"space-y-2",children:d.map(c=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 animate-slide-in",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 text-sm",children:[c.label,c.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:c.field_type==="select"?"Dropdown":c.field_type})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(ms,{className:"h-3 w-3"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(xs,{className:"h-3 w-3"})})]})]})},c.id))})]}),k&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-lg animate-slide-in",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Export Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Choose Format"}),e.jsx("div",{className:"space-y-2",children:[{value:"csv",label:"CSV",icon:We,color:"text-green-600"},{value:"json",label:"JSON",icon:qe,color:"text-blue-600"},{value:"widget",label:"Widget",icon:qe,color:"text-purple-600"}].map(c=>e.jsxs("button",{onClick:()=>q(c.value),className:`w-full p-2 border rounded-lg text-left transition-colors flex items-center space-x-2 ${z===c.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx(c.icon,{className:`h-4 w-4 ${c.color}`}),e.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.value))})]}),e.jsxs("button",{onClick:()=>E(w()),className:"w-full bg-secondary-500 text-white py-2 px-3 rounded-lg hover:bg-secondary-600 transition-colors flex items-center justify-center space-x-2 text-sm",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate"})]}),u&&e.jsxs("div",{className:"space-y-3 animate-slide-in",children:[e.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-300",children:"Generated Code"}),e.jsxs("button",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs flex items-center space-x-1",children:[e.jsx(Re,{className:"h-3 w-3"}),e.jsx("span",{children:"Copy"})]})]}),e.jsxs("pre",{className:"text-xs whitespace-pre-wrap font-mono max-h-32 overflow-y-auto",children:[u.substring(0,200),"..."]})]}),z==="widget"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b",children:e.jsx("span",{className:"text-xs text-gray-600",children:"Live Preview"})}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"What Our Customers Say"})}),e.jsx("div",{className:"space-y-2",children:He.slice(0,2).map(c=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 border-l-2 border-secondary-500",children:[e.jsx("div",{className:"flex mb-1",children:[...Array(c.rating)].map((L,B)=>e.jsx(X,{className:"h-3 w-3 text-yellow-400 fill-current"},B))}),e.jsxs("p",{className:"text-xs text-gray-700 mb-1 italic",children:['"',c.message.substring(0,60),'..."']}),e.jsxs("div",{className:"text-xs text-gray-500",children:["- ",c.name]})]},c.id))})]})]})]})]})]})]}),U()==="testimonials"&&T.length===0&&e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(X,{className:"h-8 w-8 text-primary-950"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No testimonials yet"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Testimonials will appear here once customers submit them."})]})})]})]})})})});return e.jsxs("div",{className:"bg-white",children:[e.jsx("nav",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between h-12",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-6 w-6 text-primary-950"}),e.jsx("span",{className:"text-lg font-bold text-primary-950",children:"TestiFlow"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${U()==="forms"?"text-primary-950 bg-primary-50":"text-gray-700 hover:text-primary-950"}`,children:"Forms"}),e.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${U()==="testimonials"?"text-primary-950 bg-primary-50":"text-gray-700 hover:text-primary-950"}`,children:"Testimonials"}),e.jsxs("div",{className:"flex items-center space-x-2 pl-3 border-l border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"h-3 w-3 text-primary-950"})}),e.jsx("span",{className:"text-xs text-gray-700 hidden sm:block",children:"sarah@techcorp.com"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-700 hover:text-red-600 text-xs transition-colors",children:[e.jsx(Ze,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:block",children:"Sign Out"})]})]})]})]})})}),e.jsx("div",{className:"bg-blue-50 border-b border-blue-200 py-2",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Step ",s+1,": ",ze[s].title]})]}),e.jsx("div",{className:"text-xs text-blue-600",children:ze[s].description})]})})}),Y()]})},$e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"],Dt=({onTagsChange:s})=>{const{user:l}=ne(),[r,m]=a.useState([]),[i,t]=a.useState(!0),[h,x]=a.useState(null),[n,y]=a.useState(null),[d,b]=a.useState(!1),[_,v]=a.useState(null),[p,f]=a.useState(null),[g,N]=a.useState({name:"",color:$e[0]});a.useEffect(()=>{T()},[l]);const T=()=>$(null,null,function*(){if(l)try{const{data:u,error:E}=yield F.from("testimonial_tags").select("*").eq("user_id",l.id).order("created_at",{ascending:!1});if(E)throw E;m(u||[])}catch(u){console.error("Error fetching tags:",u),x("Failed to load tags")}finally{t(!1)}}),S=u=>$(null,null,function*(){if(u.preventDefault(),!!l)try{x(null);const{data:E,error:o}=yield F.from("testimonial_tags").insert([{user_id:l.id,name:g.name.trim(),color:g.color}]).select().single();if(o)throw o;m([E,...r]),b(!1),N({name:"",color:$e[0]}),y("Tag created successfully!"),s==null||s()}catch(E){console.error("Error creating tag:",E),E.code==="23505"?x("A tag with this name already exists"):x("Failed to create tag")}}),k=u=>$(null,null,function*(){if(u.preventDefault(),!(!l||!_))try{x(null);const{data:E,error:o}=yield F.from("testimonial_tags").update({name:g.name.trim(),color:g.color}).eq("id",_.id).eq("user_id",l.id).select().single();if(o)throw o;m(r.map(C=>C.id===_.id?E:C)),v(null),N({name:"",color:$e[0]}),y("Tag updated successfully!"),s==null||s()}catch(E){console.error("Error updating tag:",E),E.code==="23505"?x("A tag with this name already exists"):x("Failed to update tag")}}),P=u=>$(null,null,function*(){try{const{error:E}=yield F.from("testimonial_tags").delete().eq("id",u).eq("user_id",l.id);if(E)throw E;m(r.filter(o=>o.id!==u)),f(null),y("Tag deleted successfully!"),s==null||s()}catch(E){console.error("Error deleting tag:",E),x("Failed to delete tag")}}),z=u=>{v(u),N({name:u.name,color:u.color}),b(!0)},q=()=>{v(null),b(!1),N({name:"",color:$e[0]})};return i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-950"})}):e.jsxs("div",{className:"space-y-6",children:[h&&e.jsx(se,{type:"error",message:h,onClose:()=>x(null)}),n&&e.jsx(se,{type:"success",message:n,onClose:()=>y(null)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tags & Categories"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Organize testimonials with custom tags for better management"})]}),e.jsxs("button",{onClick:()=>b(!0),className:"bg-primary-950 text-white px-4 py-2 rounded-lg hover:bg-primary-900 transition-colors flex items-center space-x-2",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"New Tag"})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx(Xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tags yet"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Create tags to organize your testimonials by product, service, campaign, or any other category."}),e.jsx("button",{onClick:()=>b(!0),className:"bg-primary-950 text-white px-6 py-3 rounded-lg hover:bg-primary-900 transition-colors font-medium",children:"Create Your First Tag"})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(u=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:u.color}}),e.jsx("span",{className:"font-medium text-gray-900",children:u.name})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>z(u),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f(u),className:"p-1 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(Ye,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Created ",new Date(u.created_at).toLocaleDateString()]})]},u.id))}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:q,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:_?"Edit Tag":"Create New Tag"}),e.jsx("button",{onClick:q,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:_?k:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag Name"}),e.jsx("input",{type:"text",value:g.name,onChange:u=>N(I(M({},g),{name:u.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Product A, Campaign 2024, VIP Customers",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tag Color"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:$e.map(u=>e.jsx("button",{type:"button",onClick:()=>N(I(M({},g),{color:u})),className:`w-10 h-10 rounded-lg border-2 transition-all ${g.color===u?"border-gray-800 scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:u}},u))}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Custom:"}),e.jsx("input",{type:"color",value:g.color,onChange:u=>N(I(M({},g),{color:u.target.value})),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.name||"Tag Name"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-primary-950 text-white py-2 px-4 rounded-md hover:bg-primary-900 transition-colors font-medium flex items-center justify-center space-x-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{children:_?"Save Changes":"Create Tag"})]}),e.jsx("button",{type:"button",onClick:q,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>f(null),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delete Tag"}),e.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(le,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the tag "',e.jsx("strong",{children:p.name}),'"? This will remove it from all testimonials and cannot be undone.']}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>P(p.id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors font-medium",children:"Delete Tag"}),e.jsx("button",{onClick:()=>f(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]})})]})},At=()=>Me().limits.canUseTags?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tag Organization"}),e.jsx("p",{className:"text-gray-600",children:"Organize testimonials with custom tags and categories"})]}),e.jsx(Dt,{})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tag Organization"}),e.jsx("p",{className:"text-gray-600",children:"Organize testimonials with custom tags and categories"})]}),e.jsx(be,{feature:"Tag Organization",description:"Create custom tags to organize testimonials by product, service, campaign, or any other category for better management and filtering."})]})})})}),qt=()=>{const{user:s}=ne(),{sendNewTestimonialNotification:l,sendTrialEndingNotification:r,sendPaymentFailureNotification:m}=fs(),[i,t]=a.useState(!1),[h,x]=a.useState(null),[n,y]=a.useState(null),[d,b]=a.useState("testimonial"),_=()=>$(null,null,function*(){if(!s){x("You must be logged in to test email notifications");return}t(!0),x(null),y(null);try{switch(d){case"testimonial":yield l({name:"John Smith",company:"Test Company Inc.",rating:5,message:"This is a test testimonial to verify that email notifications are working correctly. The system should send this to the form owner via email."},"Test Form - Email Notification",s.id);break;case"trial_ending":yield r(s.email,3,new Date(Date.now()+4320*60*1e3).toLocaleDateString());break;case"payment_failure":yield m(s.email,new Date(Date.now()+720*60*60*1e3).toLocaleDateString());break}y(`Test ${d.replace("_"," ")} email sent successfully to ${s.email}! Check your inbox (and spam folder) for the notification.`)}catch(v){console.error("Test email failed:",v),x(`Failed to send test email: ${v instanceof Error?v.message:"Unknown error"}`)}finally{t(!1)}});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Se,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Email Notifications"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Test different email notification types by sending samples to your email address."}),h&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"error",message:h,onClose:()=>x(null)})}),n&&e.jsx("div",{className:"mb-6",children:e.jsx(se,{type:"success",message:n,onClose:()=>y(null)})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Type to Test"}),e.jsxs("select",{value:d,onChange:v=>b(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"testimonial",children:"New Testimonial Notification"}),e.jsx("option",{value:"trial_ending",children:"Trial Ending Reminder"}),e.jsx("option",{value:"payment_failure",children:"Payment Failure Notice"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Test Details"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Recipient:"})," ",s==null?void 0:s.email]}),d==="testimonial"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Test Testimonial:"})," John Smith from Test Company Inc."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rating:"})," 5 stars"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Form:"})," Test Form - Email Notification"]})]}),d==="trial_ending"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Trial Days Left:"})," 3 days"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Charge Date:"})," ",new Date(Date.now()+4320*60*1e3).toLocaleDateString()]})]}),d==="payment_failure"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Grace Period End:"})," ",new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Action Required:"})," Update payment method"]})]})]})]}),e.jsx("button",{onClick:_,disabled:i,className:"bg-primary-950 text-white px-6 py-3 rounded-lg hover:bg-primary-900 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed mx-auto",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Sending Test Email..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{children:"Send Test Email"})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"This will send a test email notification to your registered email address using the selected template type."})]})})})})})},Ut=()=>(gs(),e.jsxs(as,{children:[e.jsx(ae,{path:"/submit/:formId",element:e.jsx(Tt,{})}),e.jsx(ae,{path:"/demo",element:e.jsx($t,{})}),e.jsx(ae,{path:"/*",element:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ot,{}),e.jsxs(as,{children:[e.jsx(ae,{path:"/",element:e.jsx(ct,{})}),e.jsx(ae,{path:"/login",element:e.jsx(dt,{})}),e.jsx(ae,{path:"/signup",element:e.jsx(mt,{})}),e.jsx(ae,{path:"/forgot-password",element:e.jsx(ft,{})}),e.jsx(ae,{path:"/reset-password",element:e.jsx(yt,{})}),e.jsx(ae,{path:"/pricing",element:e.jsx(ut,{})}),e.jsx(ae,{path:"/get-started",element:e.jsx(pt,{})}),e.jsx(ae,{path:"/success",element:e.jsx(ht,{})}),e.jsx(ae,{path:"/forms",element:e.jsx(_e,{children:e.jsx(jt,{})})}),e.jsx(ae,{path:"/branding",element:e.jsx(_e,{children:e.jsx(Pt,{})})}),e.jsx(ae,{path:"/tags",element:e.jsx(_e,{children:e.jsx(At,{})})}),e.jsx(ae,{path:"/testimonials",element:e.jsx(_e,{children:e.jsx(kt,{})})}),e.jsx(ae,{path:"/settings",element:e.jsx(_e,{children:e.jsx(gt,{})})}),e.jsx(ae,{path:"/dashboard",element:e.jsx(_e,{children:e.jsx(xt,{})})}),e.jsx(ae,{path:"/test-email",element:e.jsx(_e,{children:e.jsx(qt,{})})})]})]})})]}));function Ot(){return e.jsx(lt,{children:e.jsx($s,{children:e.jsx(Ut,{})})})}tt.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Ot,{})}))});export default Rt();
